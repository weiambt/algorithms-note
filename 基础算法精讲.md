# åŸºç¡€ç®—æ³•ç²¾è®²

>  çµç¥

# ã€ŠçµèŒ¶å…«é¢˜ã€‹é¢˜ç›®åˆ—è¡¨

ä»…ä»…æ˜¯å‡ ä¸ªå­—çš„åŒºåˆ«ï¼Œä¼šå¯¼è‡´æˆªç„¶ä¸åŒçš„åšæ³•ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ç®—æ³•ä¹‹ç¾å§ï¼

https://www.luogu.com/article/27pme29z

- [å­æ•°ç»„ +w+](https://www.luogu.com.cn/problem/U360300)

  > æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„å’Œ

  è´¡çŒ®æ±‚å’Œ

  ```
  #include<bits/stdc++.h>
  using namespace std;
  int main(){
      int n,x;
      long long ans = 0;
      cin>>n;
      for(int i=0;i<n;i++){
          cin>>x;
          ans += (long long)x * (i+1) * (n-i);
      }
      cout<<ans;
      return 0;
  }
  ```

  

- [å­æ•°ç»„ ^w^](https://www.luogu.com.cn/problem/U360487)

  > æ‰€æœ‰å­æ•°ç»„çš„å¼‚æˆ–çš„å¼‚æˆ–

  è´¡çŒ®æ±‚å¼‚æˆ–

  ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°å¤šå°‘æ¬¡ï¼Œå¶æ•°æ¬¡å¼‚æˆ–æ˜¯0

  ```
  #include<bits/stdc++.h>
  using namespace std;
  int main(){
      int n,x;
      long long ans = 0;
      cin>>n;
      for(int i=1;i<=n;i++){
          cin>>x;
          long long cnt = (long long)i * (n-i+1);
          // cout<<cnt<<endl;
          if(cnt%2==1)
              ans ^= x ;
      }
      cout<<ans;
      return 0;
  }
  ```

  

- [å­æ•°ç»„ ^w+](https://www.luogu.com.cn/problem/U360489)

  > å­æ•°ç»„å¼‚æˆ–å’Œçš„å…ƒç´ å’Œ

  - æç¤ºï¼šå¦‚æœæ•°ç»„ä¸­åªæœ‰ 0 å’Œ 1ï¼Œè¦æ€ä¹ˆåšï¼Ÿ

    ç›¸å½“äºè®¡ç®—æœ‰å¤šå°‘ä¸ªå­æ•°ç»„ï¼Œå¼‚æˆ–å’Œç­‰äº 1

    è®¡ç®—å‰ç¼€å¼‚æˆ–å’Œæ•°ç»„ ğ‘ ï¼ˆé•¿ä¸º ğ‘›+1ï¼‰ï¼Œç›¸å½“äºä» ğ‘ ä¸­é€‰ä¸¤ä¸ªæ•°ï¼Œå¼‚æˆ–ç­‰äº 1ã€‚

    è¿™ä¸¤ä¸ªæ•°å¿…é¡»æ°å¥½ä¸€ä¸ªæ˜¯ 1ï¼Œå¦ä¸€ä¸ªæ˜¯ 0ã€‚

    æ‰€ä»¥å°±æ˜¯ä»n+1ä¸ªä½ç½®ä¸­æŒ‘2ä¸ªæ•°ï¼Œä¸€ä¸ªæ•°æ˜¯1ï¼Œä¸€ä¸ªæ•°æ˜¯0ï¼Œå…±æœ‰
    å‡è®¾æœ‰cä¸ª1ï¼Œåˆ™æœ‰n+1-cä¸ª0ï¼Œä¸ªæ•°å°±æ˜¯ä¹˜ç§¯c * (n+1-c)ï¼Œè¯¥ä½çš„è´¡çŒ®æ˜¯2^0 = 1

  - æ–¹æ³•ï¼šæ‹†ä½

    æ¯ä¸€ä½å•ç‹¬æ¥çœ‹ï¼Œè®¡ç®—ä¸‹ä¸ªæ•°ï¼Œæœ€åå†åŠ ä¸Šè´¡çŒ®2 ^ k.

    æšä¸¾ç»Ÿè®¡å¼‚æˆ–å‰ç¼€å’Œæ•°ç»„ä¸­å½“å‰ä½ä¸‹ä¸º`1`çš„å…ƒç´ ä¸ªæ•°`cnt`ï¼Œåˆ™ä¸º`0`çš„ä¸ªæ•°ä¸º`(n + 1 - cnt)`ï¼Œæ•…å­˜åœ¨è´¡çŒ®çš„å­æ•°ç»„çš„æ€»è´¡çŒ®ä¸º`cnt * (n + 1 - cnt) * (1 << k)`

    ```
    import java.util.*;
    
    public class Main {
    	static int INF = 0x3f3f3f3f;
    	static int N = 101000,M = 2*N;
    	static int[] s = new int[N];
    	static int n,m;
    	static long ans;
    	
    	public static void main(String[] args) {
    		Scanner sc = new Scanner(System.in);
    		
    		n = sc.nextInt();
    		for(int i=1;i<=n;i++) {
    			s[i] = s[i-1] ^ sc.nextInt();//å¼‚æˆ–å‰ç¼€å’Œ
    		}
    		for(int k=0;k<22;k++){//æšä¸¾æ¯ä¸€ä¸ªæ•°ä½
    		    long cnt = 0;//ç»Ÿè®¡å‰ç¼€å’Œæ•°ç»„ä¸­å½“å‰æ•°ä½ä¸‹çš„1çš„ä¸ªæ•°
    		    for(int i=0;i<=n;i++){
    		        if((s[i]>>k&1)==1) cnt ++;
    		    }
    		    ans += cnt * (n+1-cnt) * (1<<k);//n+1-cntä¸ª0ï¼ˆå‰ç¼€å’Œæ•°ç»„çš„é•¿åº¦æ˜¯n+1ï¼‰
    		}
    		System.out.println(ans);
    	}
    }
    ```

    

- [å­æ•°ç»„ +w^](https://www.luogu.com.cn/problem/U360500)

  > æ‰€æœ‰å­æ•°ç»„æ±‚å’Œå†å¼‚æˆ–

  å€Ÿä½æ‹†ä½

  - æ¨èå…ˆå®Œæˆ [ARC092D - Two Sequences](https://atcoder.jp/contests/arc092/tasks/arc092_b)

  ```
  
  ```

  

- [å­åºåˆ— +w+](https://www.luogu.com.cn/problem/U360640)

  è´¡çŒ®æ³•ï¼Œè®¡ç®—æ‰€æœ‰åºåˆ—çš„ä¸ªæ•°

  ```
  import java.util.*;
  
  public class Main {
  	static int mod = 1000000007;
  	static int N = 201000,M = 110;
      static int n;
  	static long ans;
  	static long qpow(long a,long b,long mod){
  	    long res = 1;
  	    while(b>0){
  	        if((b&1)==1) res *= a;
  	        b >>= 1;
  	        a *= a;
  	        a %= mod;
  	        res %= mod;
  	    }
  	    return res;
  	}
  	
  	public static void main(String[] args) {
  		Scanner sc = new Scanner(System.in);
  		
  		n = sc.nextInt();
  
  		for(int i=1;i<=n;i++) {
  			long x = sc.nextInt();
  			ans +=  x * qpow(2,n-1,mod) % mod;
  			ans %= mod;//ä¸è¦å¿˜è®°
  		}
  		
  		System.out.println(ans);
  	}
  }
  	
  ```

  

- [å­åºåˆ— ^w^](https://www.luogu.com.cn/problem/U360641)

  ç±»ä¼¼å¯è€ƒè™‘ç´¯åŠ å¼‚æˆ–å•ä¸ªå…ƒç´ çš„æ€»è´¡çŒ®
  å½“ä¸”ä»…å½“n = 1å­˜åœ¨è´¡çŒ®g[0]ï¼Œå¦åˆ™2 ^ nâˆ’1 ä¸ºå¶æ•°ï¼Œæ€»è´¡çŒ®ä¸º0 

  åªæœ‰å½“n=1æ—¶ï¼Œ2^n-1ä¸æ˜¯å¶æ•°

  ```
  import java.util.*;
  
  public class Main {
  	static int mod = 1000000007;
  	static int N = 201000,M = 110;
      static int n;
  	static long ans;
  	
  	public static void main(String[] args) {
  		Scanner sc = new Scanner(System.in);
  		
  		n = sc.nextInt();
  		int flag = 0;
          
  		for(int i=1;i<=n;i++) {
  			ans = sc.nextInt();
  		}
  		if(n!=1) ans = 0;
  		System.out.println(ans);
  	}
  }
  	
  ```

  

- [å­åºåˆ— ^w+](https://www.luogu.com.cn/problem/U360642)

  - å¦‚æœç¬¬ ğ‘˜ä½éƒ½æ˜¯ 0ï¼Œé‚£ä¹ˆå¯¹ç­”æ¡ˆçš„è´¡çŒ®æ˜¯ 0ã€‚

  - å¦‚æœç¬¬ ğ‘˜ ä½æœ‰ ğ‘ä¸ª 1ï¼Œç”¨æ•°å­¦å½’çº³æ³•å¯ä»¥è¯æ˜ï¼Œä» ğ‘ ä¸ªæ•°ä¸­é€‰å¶æ•°ä¸ªæ•°çš„æ–¹æ¡ˆæ•°æ˜¯` 2^(ğ‘âˆ’1)`ï¼Œé€‰å¥‡æ•°ä¸ªæ•°çš„æ–¹æ¡ˆæ•°ä¹Ÿæ˜¯ ` 2^(ğ‘âˆ’1)`ã€‚ä»n-cä¸ª0ä¸­é€‰ä»»æ„ä¸ªçš„æ–¹æ¡ˆæ˜¯æœ‰ ` 2^(nâˆ’c)`

    å†ç®—ä¸Š 0ï¼Œé‚£ä¹ˆå¼‚æˆ–å’Œä¸º 0 çš„å­åºåˆ—æœ‰ ` 2^(ğ‘âˆ’1)` * `2^(nâˆ’c)` =  ` 2^(n-1)`ä¸ªï¼Œå¼‚æˆ–å’Œä¸º 1 çš„å­åºåˆ—ä¹Ÿæœ‰` 2^(n-1)`ä¸ªï¼Œæ‰€ä»¥è¿™ä¸€ä½çš„è´¡çŒ®æ˜¯ ` 2^(n-1) * 2^k`

    > åªæœ‰cä¸ª1ï¼Œé‚£ä¹ˆå…±æœ‰2^cä¸ªé€‰æ³•ï¼Œè¦ä¹ˆé€‰å¥‡æ•°è¦ä¹ˆé€‰å¶æ•°ï¼Œæ­£å¥½éƒ½æ˜¯ä¸€åŠ2^(n-1)

  - å¦‚æœå­˜åœ¨1çš„é‚£ä¸ªæ•°ä½ï¼Œå°±è®¡ç®—è´¡çŒ®

  ```
  import java.util.*;
  
  public class Main {
  	static int mod = 1000000007;
  	static int N = 201000,M = 110;
  	static int[] a = new int[N];
      static int n;
  	static long ans;
  	static long qpow(long a,long b,long mod){
  	    long res = 1;
  	    while(b>0){
  	        if((b&1)==1) res *= a;
  	        b >>= 1;
  	        a *= a;
  	        a %= mod;
  	        res %= mod;
  	    }
  	    return res;
  	}
  
  	
  	public static void main(String[] args) {
  		Scanner sc = new Scanner(System.in);
  		
  		n = sc.nextInt();
  
  		for(int i=1;i<=n;i++) {
  			a[i] = sc.nextInt();
  		}
  		for(int k=0;k<32;k++){
  		    int cnt = 0;//1çš„ä¸ªæ•°
  		    for(int i=1;i<=n;i++){
  		        if((a[i]>>k&1)==1) cnt ++;
  		    }
  		    if(cnt>0)
  		        ans += (1<<k);
  		    ans %= mod;
  		}
  		ans *= qpow(2,n-1,mod);
  		ans %= mod;
  		System.out.println(ans);
  	}
  }
  	
  ```

  

- [å­åºåˆ— +w^](https://www.luogu.com.cn/problem/U360643)

  > 

  01èƒŒåŒ…æ–¹æ¡ˆæ•°

  ```
  import java.util.*;
  
  public class Main {
  	static int INF = 0x3f3f3f3f;
  	static int N = 201000,M = 110;
  	static int[] a = new int[N];
  	static int[] dp;
  	static int n,m;
  	static long ans;
  	
  	public static void main(String[] args) {
  		Scanner sc = new Scanner(System.in);
  		
  		n = sc.nextInt();
  		int s = 0;
  		for(int i=1;i<=n;i++) {
  			a[i] = sc.nextInt();
  			s += a[i];
  		}
  		dp = new int[s+1];
  		
  		dp[0] = 1;
  		for(int i=1;i<=n;i++){
  		    for(int j=s;j>=a[i];j--){
  		        dp[j] ^= dp[j-a[i]];
  		    }
  		}
  		for(int i=1;i<=s;i++){
  		    ans ^= (dp[i]%2==1?i:0);
  		}
  		System.out.println(ans);
  	}
  }
  
  ```

  

### [åŒå‘åŒæŒ‡é’ˆ](https://www.bilibili.com/video/BV1hd4y1r7Gq/) 

- [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/)  [ä»£ç ](https://leetcode.cn/problems/minimum-size-subarray-sum/solution/biao-ti-xia-biao-zong-suan-cuo-qing-kan-k81nh/)      

> ç»™å®šä¸€ä¸ªå«æœ‰ `n` ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° `target` **ã€‚**
>
> æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ `â‰¥ target` çš„é•¿åº¦æœ€å°çš„ **è¿ç»­å­æ•°ç»„** `[numsl, numsl+1, ..., numsr-1, numsr]` ï¼Œå¹¶è¿”å›å…¶é•¿åº¦**ã€‚**å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› `0` ã€‚

å·¦æŒ‡é’ˆä»æ»¡è¶³è¦æ±‚å˜æˆä¸æ»¡è¶³è¦æ±‚

```
class Solution:
    def minSubArrayLen(self, target: int, nums: List[int]) -> int:
        n = len(nums)
        ans = inf
        s = left = 0
        for right,x in enumerate(nums):
            s += nums[right]
            while s >= target:
                ans = min(ans,right-left+1)
                s -= nums[left]
                left+=1
        return ans if ans!=inf else 0
```



- [713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-product-less-than-k/)  [ä»£ç ](https://leetcode.cn/problems/subarray-product-less-than-k/solution/xia-biao-zong-suan-cuo-qing-kan-zhe-by-e-jebq/)     

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å›å­æ•°ç»„å†…æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ä¸¥æ ¼å°äº `k` çš„è¿ç»­å­æ•°ç»„çš„æ•°ç›®ã€‚

å·¦æŒ‡é’ˆä»ä¸æ»¡è¶³è¦æ±‚å˜æˆæ»¡è¶³è¦æ±‚

ä»¥å³ç«¯ç‚¹å›ºå®šæ—¶ï¼Œæ»¡è¶³æ¡ä»¶çš„åŒºé—´çš„ä¸ªæ•°ï¼Œæ‰¾åˆ°rightä¸ºå³ç«¯ç‚¹çš„æœ€é•¿çš„æ»¡è¶³æ¡ä»¶çš„åŒºé—´ä¸ªæ•°ï¼Œæ‰€ä»¥å­åŒºé—´ä¹Ÿéƒ½æ»¡è¶³

```
class Solution:
    def numSubarrayProductLessThanK(self, nums: List[int], k: int) -> int:
        n = len(nums)
        ans = 0
        left = 0
        s = 1
        for right in range(n):
            s *= nums[right]
            while left<=right and s>=k:
                s//=nums[left]
                left+=1
            ans += right-left+1
        return ans
```



- [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)  [ä»£ç ](https://leetcode.cn/problems/longest-substring-without-repeating-characters/solution/xia-biao-zong-suan-cuo-qing-kan-zhe-by-e-iaks/)     

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

å“ˆå¸Œè¡¨ç»´æŠ¤

```
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        mp = Counter()
        left = ans = 0
        for right in range(len(s)):
            mp[s[right]]+=1
            while left <= right and mp[s[right]]>1:
                mp[s[left]]-=1
                left+=1
            ans = max(ans,right-left+1)
        return ans
```



- [1004. æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•° III](https://leetcode.cn/problems/max-consecutive-ones-iii/)  [ä»£ç ](https://leetcode.cn/problems/max-consecutive-ones-iii/solution/hua-dong-chuang-kou-yi-ge-shi-pin-jiang-yowmi/)  

> ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œå¦‚æœå¯ä»¥ç¿»è½¬æœ€å¤š `k` ä¸ª `0` ï¼Œåˆ™è¿”å› *æ•°ç»„ä¸­è¿ç»­ `1` çš„æœ€å¤§ä¸ªæ•°* ã€‚
>
> 1656

æ€ç»´è½¬åŒ–æˆåŒæŒ‡é’ˆ

```
class Solution:
    def longestOnes(self, nums: List[int], k: int) -> int:
        # æ±‚æœ€å¤šæœ‰kä¸ª0çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§é•¿åº¦
        n = len(nums)
        ans = 0
        s = left = 0
        for right in range(n):
            s += nums[right]==0
            while s>k:
                s -= nums[left]==0
                left+=1
            ans = max(ans,right-left+1)
        return ans
```



- [1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²](https://leetcode.cn/problems/replace-the-substring-for-balanced-string/)  [ä»£ç ](https://leetcode.cn/problems/replace-the-substring-for-balanced-string/solution/tong-xiang-shuang-zhi-zhen-hua-dong-chua-z7tu/)  

> æœ‰ä¸€ä¸ªåªå«æœ‰ `'Q', 'W', 'E', 'R'` å››ç§å­—ç¬¦ï¼Œä¸”é•¿åº¦ä¸º `n` çš„å­—ç¬¦ä¸²ã€‚
>
> å‡å¦‚åœ¨è¯¥å­—ç¬¦ä¸²ä¸­ï¼Œè¿™å››ä¸ªå­—ç¬¦éƒ½æ°å¥½å‡ºç° `n/4` æ¬¡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ã€‚
>
> ç»™ä½ ä¸€ä¸ªè¿™æ ·çš„å­—ç¬¦ä¸² `s`ï¼Œè¯·é€šè¿‡ã€Œæ›¿æ¢ä¸€ä¸ªå­ä¸²ã€çš„æ–¹å¼ï¼Œä½¿åŸå­—ç¬¦ä¸² `s` å˜æˆä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ã€‚
>
> ä½ å¯ä»¥ç”¨å’Œã€Œå¾…æ›¿æ¢å­ä¸²ã€é•¿åº¦ç›¸åŒçš„ **ä»»ä½•** å…¶ä»–å­—ç¬¦ä¸²æ¥å®Œæˆæ›¿æ¢ã€‚
>
> è¯·è¿”å›å¾…æ›¿æ¢å­ä¸²çš„æœ€å°å¯èƒ½é•¿åº¦ã€‚
>
> å¦‚æœåŸå­—ç¬¦ä¸²è‡ªèº«å°±æ˜¯ä¸€ä¸ªå¹³è¡¡å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› `0`ã€‚
>
> 1878

æ»‘åŠ¨çª—å£ç»´æŠ¤çª—å£å¤–çš„æ¯ä¸ªå…ƒç´ ä¸ªæ•°ã€æ°å¥½å‡ºç°

çª—å£å¤–çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸å˜ï¼Œæ•°é‡æœ‰ä¸€ä¸ª>n/4ï¼Œé‚£ä¹ˆè¿™ä¸ªçª—å£å°±ä¸è¡Œ

```
class Solution:
    def balancedString(self, s: str) -> int:
        n = len(s)
        mp = Counter(s)
        if all(mp[x]==n//4 for x in 'QWER'):
            return 0
        ans = inf
        left = 0
        for right in range(n):
            mp[s[right]]-=1
            while left<=right and all(mp[x]<=n//4 for x in 'QWER'):
                ans = min(ans,right-left+1)
                mp[s[left]]+=1
                left+=1
        return ans
```



- [1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/)  [ä»£ç ](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/solution/ni-xiang-si-wei-pythonjavacgo-by-endless-b4jt/)  

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `x` ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ `nums` æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» `x` ä¸­å‡å»è¯¥å…ƒç´ çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦ **ä¿®æ”¹** æ•°ç»„ä»¥ä¾›æ¥ä¸‹æ¥çš„æ“ä½œä½¿ç”¨ã€‚
>
> å¦‚æœå¯ä»¥å°† `x` **æ°å¥½** å‡åˆ° `0` ï¼Œè¿”å› **æœ€å°æ“ä½œæ•°** ï¼›å¦åˆ™ï¼Œè¿”å› `-1` ã€‚
>
>  1817

æ€ç»´è½¬åŒ–

å·¦æŒ‡é’ˆä»ä¸æ»¡è¶³è¦æ±‚å˜æˆæ»¡è¶³è¦æ±‚

```python
class Solution:
    def minOperations(self, nums: List[int], x: int) -> int:
        # æ‰¾æœ€é•¿çš„å­æ•°ç»„ï¼Œä½¿å¾—å’Œæ˜¯sum - x
        n = len(nums)
        left = 0
        tar = sum(nums)-x
        s = 0
        mx = -1
        for right in range(n):
            s += nums[right]
            while left <= right and s>tar:
                s -= nums[left]
                left+=1
            if s == tar:
                mx = max(mx,right-left+1)
        return n-mx if mx !=-1 else -1
```

### [ç›¸å‘åŒæŒ‡é’ˆ 1](https://www.bilibili.com/video/BV1bP411c7oJ/)  

- [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/)  [ä»£ç ](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/solution/san-shu-zhi-he-bu-hui-xie-xiang-xiang-sh-6wbq/)     

> ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **1** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `numbers` ï¼Œè¯¥æ•°ç»„å·²æŒ‰ **éé€’å‡é¡ºåºæ’åˆ—** ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° `target` çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯ `numbers[index1]` å’Œ `numbers[index2]` ï¼Œåˆ™ `1 <= index1 < index2 <= numbers.length` ã€‚
>
> ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ `[index1, index2]` çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ `index1` å’Œ `index2`ã€‚
>
> ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ **åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ** ï¼Œè€Œä¸”ä½  **ä¸å¯ä»¥** é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚
>
> ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚

ä¸‰ç§æ–¹æ³•ï¼š1.å“ˆå¸Œè¡¨2.æ’åº+åŒæŒ‡é’ˆ3.æ’åº+äºŒåˆ†

```
class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        n = len(numbers)
        i,j = 0,n-1
        while i<j:
            s = numbers[i] + numbers[j]
            if s == target:
                return [i+1,j+1]
            elif s > target:
                j-=1
            else:
                i+=1
```



-  [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)  [ä»£ç ](https://leetcode.cn/problems/3sum/solution/shuang-zhi-zhen-xiang-bu-ming-bai-yi-ge-pno55/)  åŒ…å«ä¸¤ä¸ªä¼˜åŒ–    

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ `[nums[i], nums[j], nums[k]]` æ»¡è¶³ `i != j`ã€`i != k` ä¸” `j != k` ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ `nums[i] + nums[j] + nums[k] == 0` ã€‚è¯·
>
> ä½ è¿”å›æ‰€æœ‰å’Œä¸º `0` ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> **æ³¨æ„ï¼š**ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æœ¬é¢˜ä¹Ÿæ˜¯æœ‰ä¸‰ç§æ–¹æ³•ï¼Œä½†æ˜¯åŒæŒ‡é’ˆå¥½å»é‡

æ’åº+åŒæŒ‡é’ˆã€éš¾ç‚¹åœ¨å»é‡

```
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        n = len(nums)
        nums.sort()
        ans = []
        for i in range(n-2):
            tar = -nums[i]
            if i and nums[i]==nums[i-1]:
                continue
            j,k = i+1,n-1
            while j<k:
                s = nums[j]+nums[k]
                if s==tar:
                    ans.append([nums[i],nums[j],nums[k]])
                    while j<k and nums[j]==nums[j+1]:
                        j+=1
                    while j<k and nums[k]==nums[k-1]:
                        k-=1
                    j+=1
                    k-=1
                elif s>tar:
                    k-=1
                else:
                    j+=1
        return ans
```



- [16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum-closest/)  [ä»£ç ](https://leetcode.cn/problems/3sum-closest/solution/zui-jie-jin-de-san-shu-zhi-he-by-leetcode-solution/)  *è¯¾åä½œä¸š    

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` å’Œ ä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ ä» `nums` ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ `target` æœ€æ¥è¿‘ã€‚
>
> è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚
>
> å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚

æšä¸¾ä¸€ä¸ªæ•°ç„¶åå†åŒæŒ‡é’ˆ

```
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums.sort()
        ans = inf
        for k in range(n-2):
            i,j = k+1,n-1
            while i<j:
                s = nums[i]+nums[j]+nums[k]
                if abs(s-target) < abs(ans-target):
                    ans = s
                if s == target:
                    return target
                elif s > target:
                    j-=1
                else:
                    i+=1
        return ans
```

ä¼˜åŒ–æ–¹å¼ï¼š

ä¼˜åŒ–1ï¼šç¬¬ä¸€ä¸ªæ•°ç›¸åŒçš„ä½ç½®è·³è¿‡

ä¼˜åŒ–2ï¼šæœ€å°çš„å’Œéƒ½>targetï¼Œåé¢å°±ä¸ç”¨æ‰«æäº†

ä¼˜åŒ–3ï¼šæœ€å¤§çš„å’Œéƒ½<targetï¼Œä¹Ÿä¸ç”¨æ‰«æäº†

```
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums.sort()
        ans = inf
        diff = inf
        for k in range(n-2):
            # ä¼˜åŒ–1ï¼šç¬¬ä¸€ä¸ªæ•°ç›¸åŒçš„ä½ç½®è·³è¿‡
            if k and nums[k]==nums[k-1]:
                continue
            # ä¼˜åŒ–2ï¼šæœ€å°çš„å’Œéƒ½>targetï¼Œåé¢å°±ä¸ç”¨æ‰«æäº†
            s = nums[k]+nums[k+1]+nums[k+2]
            if s>= target:
                if s - target < diff:
                    ans = nums[k]+nums[k+1]+nums[k+2]
                    diff = s - target
                    continue
            # ä¼˜åŒ–3ï¼šæœ€å¤§çš„å’Œéƒ½<targetï¼Œä¹Ÿä¸ç”¨æ‰«æäº†
            s = nums[k] + nums[-1] + nums[-2]
            if s<=target:
                if target - s < diff:
                    ans = s
                    diff = target - s
                    continue
            i,j = k+1,n-1
            while i<j:
                s = nums[i]+nums[j]+nums[k]
                if abs(s - target) < diff:
                    ans = s
                    diff = abs(s - target)
                if s == target:
                    return target
                elif s > target:
                    j-=1
                else:
                    i+=1
        return ans
```



- [18. å››æ•°ä¹‹å’Œ](https://leetcode.cn/problems/4sum/)  [ä»£ç ](https://leetcode.cn/problems/4sum/solution/ji-zhi-you-hua-ji-yu-san-shu-zhi-he-de-z-1f0b/)  *è¯¾åä½œä¸š

```
class Solution:
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        n = len(nums)
        ans = []
        nums.sort()
        for a in range(n-3):
            for b in range(a+1,n-2):
                if (a and nums[a]==nums[a-1]) or (b!=a+1 and nums[b]==nums[b-1]):
                    continue
                i,j = b+1,n-1
                while i<j:
                    s = nums[i]+nums[j]+nums[a]+nums[b]
                    if s == target:
                        ans.append([nums[a],nums[b],nums[i],nums[j]])
                        i+=1
                        j-=1
                        while i<j and nums[i]==nums[i-1]:
                            i+=1
                        while i<j and nums[j]==nums[j+1]:
                            j-=1
                    elif s>target:
                        j-=1
                    else:
                        i+=1
        return ans
```

### [ç›¸å‘åŒæŒ‡é’ˆ 2](https://www.bilibili.com/video/BV1Qg411q7ia/)  

- [11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode.cn/problems/container-with-most-water/)  [ä»£ç ](https://leetcode.cn/problems/container-with-most-water/solutions/1974355/by-endlesscheng-f0xz/)     

> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `height` ã€‚æœ‰ `n` æ¡å‚çº¿ï¼Œç¬¬ `i` æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ `(i, 0)` å’Œ `(i, height[i])` ã€‚
>
> æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ `x` è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚
>
> è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚
>
> **è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚
>
>  

å“ªè¾¹å°ï¼Œé‚£è¾¹çš„çš„æŒ‡é’ˆå°±è¦ç§»åŠ¨

```
class Solution:
    def maxArea(self, height: List[int]) -> int:
        n = len(height)
        l,r = 0,n-1
        ans = 0
        while l<r:
            ans = max(ans,min(height[l],height[r])*(r-l))
            if height[l] <= height[r]:
                l+=1
            else:
                r-=1
        return ans
```



- [42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)  [ä»£ç ](https://leetcode.cn/problems/trapping-rain-water/solutions/1974340/zuo-liao-nbian-huan-bu-hui-yi-ge-shi-pin-ukwm/)

> ç»™å®š `n` ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º `1` çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png)
>
> å›°éš¾é¢˜

åŒæŒ‡é’ˆã€åŠ¨æ€è§„åˆ’ã€å‰åç¼€	

æ€è·¯ï¼šé›¨æ°´åˆ†æˆæŒ‰åˆ—åˆ†å—ï¼Œåˆ†åˆ«è®¡ç®—æ¯ä¸€åˆ—çš„é›¨æ°´ä¸ªæ•°ï¼Œå¯¹äºæŸä¸€ä¸ªheight[i]ï¼Œéœ€è¦æ‰¾åˆ°iå·¦è¾¹çš„æœ€å¤§é«˜åº¦ã€iå³è¾¹çš„æœ€å¤§é«˜åº¦ï¼Œå–æœ€å°å€¼å°±æ˜¯èƒ½æ¥åˆ°çš„æ°´çš„é«˜åº¦ï¼Œå†å‡å»å½“å‰ç‚¹çš„é«˜åº¦ï¼Œå°±æ˜¯è¿™ä¸€åˆ—é›¨æ°´çš„ä¸ªæ•°ã€‚

```
class Solution:
    def trap(self, height: List[int]) -> int:
        ans = 0
        n = len(height)
        l = [0]*(n+1)
        r = [0]*(n+1)

        for i in range(n):
            l[i] = max(l[i-1],height[i])
        for i in range(n-1,-1,-1):
            r[i] = max(r[i+1],height[i])
        
        for x,lh,rh in zip(height,l,r):
            ans += min(lh,rh) - x
        return ans
```







### [äºŒåˆ†æŸ¥æ‰¾ - æ·±å…¥ç†è§£](https://www.bilibili.com/video/BV1AP41137w7/)  

[34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)  [ä»£ç ](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/solutions/1980196/er-fen-cha-zhao-zong-shi-xie-bu-dui-yi-g-t9l9/)  ä¸‰ç§å†™æ³•  

> ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
>
> å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ `target`ï¼Œè¿”å› `[-1, -1]`ã€‚
>
> ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

```
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        n = len(nums)
        if n==0:return [-1,-1]
        a = bisect.bisect_left(nums,target,0,n-1)
        b = bisect.bisect_right(nums,target,0,n) # å› ä¸ºæ˜¯æ‰¾åé¢ä¸€ä¸ªæ‰€ä»¥å³ç«¯ç‚¹+1
        if nums[a]==target and b and nums[a]==nums[b-1]:
            return [a,b-1]
        return [-1,-1]
```



### [äºŒåˆ†æŸ¥æ‰¾ - ä¹ é¢˜è¯¾](https://www.bilibili.com/video/BV1QK411d76w/) 

- [162. å¯»æ‰¾å³°å€¼](https://leetcode.cn/problems/find-peak-element/)  [ä»£ç ](https://leetcode.cn/problems/find-peak-element/solutions/1987497/by-endlesscheng-9ass/)  

> å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼ä¸¥æ ¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚
>
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å› **ä»»ä½•ä¸€ä¸ªå³°å€¼** æ‰€åœ¨ä½ç½®å³å¯ã€‚
>
> ä½ å¯ä»¥å‡è®¾ `nums[-1] = nums[n] = -âˆ` ã€‚
>
> ä½ å¿…é¡»å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚
>
> - å¯¹äºæ‰€æœ‰æœ‰æ•ˆçš„ `i` éƒ½æœ‰ `nums[i] != nums[i + 1]`



>  æœ¬é¢˜æ˜¯ä¸€é“æ•°ç»„ä¸æœ‰åºä½†æ˜¯èƒ½äºŒåˆ†çš„é¢˜ç›®

ç»“è®ºï¼š**åªè¦æ•°ç»„ä¸­å­˜åœ¨ä¸€ä¸ªå…ƒç´ æ¯”å·¦è¾¹æˆ–å³è¾¹çš„å…ƒç´ å¤§ï¼Œé‚£ä¹ˆæ²¿ç€å®ƒä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå³°å€¼**

å…³é”®ç‚¹ï¼šå·¦å³ç«¯ç‚¹æ˜¯-inf

ç”¨æ•°å­¦è§£é‡Šï¼šæŠŠæ‰€æœ‰ç‚¹è¿èµ·æ¥æƒ³æˆä¸€å¼ å‡½æ•°å›¾åƒï¼Œç„¶åæŠŠå·¦å³è¾¹ç•Œ-infä¹Ÿè¿ä¸Šï¼Œè¿™æ ·å°±å¾—åˆ°ä¸€ä¸ªè¿ç»­çš„å‡½æ•°å›¾åƒï¼Œç”±**ç½—å°”å®šç†**çŸ¥é“ï¼Œå·¦å³ä¸¤è¾¹ç›¸åŒï¼Œä¸­é—´ä¸€å®šæœ‰ä¸€ä¸ªå¯¼æ•°ç­‰äº0çš„ç‚¹ï¼Œç”±äºé¢˜æ„å‘Šè¯‰æˆ‘ä»¬nums[i] != nums[i + 1]ï¼Œæ‰€ä»¥è¿™ä¸ªç‚¹ä¸€å®šæ˜¯æå€¼ç‚¹ï¼Œç”±äºè¾¹ç•Œéƒ½æ˜¯-infï¼Œæ‰€ä»¥ä¸€å®šæœ‰æå¤§å€¼ï¼Œå¹¶ä¸”æœ€å°‘æœ‰ä¸€ä¸ªæå¤§å€¼ã€‚æ‰€ä»¥ï¼Œä»»å–ä¸€ä¸ªä½ç½®i,å¦‚æœnums[i]>nums[i+1],é‚£ä¹ˆåœ¨iå·¦è¾¹ä¸€å®šæœ‰ä¸€ä¸ªæå¤§å€¼ï¼Œä½¿å¾—å‡½æ•°å›¾åƒæœ€åå‡åˆ°-infï¼›åä¹‹ï¼Œå¦‚æœnums[i]<nums[i+1],é‚£ä¹ˆåœ¨i+1å³è¾¹ä¸€å®šæœ‰ä¸€ä¸ªæå¤§å€¼ï¼Œä½¿å¾—å›¾åƒä¸€å®šå‡åˆ°-inf

```
class Solution:
    def findPeakElement(self, nums: List[int]) -> int:
        n = len(nums)
        if n==1:
            return 0
        l,r = 0,n-1
        while l<r:
            mid = l+r>>1
            if nums[mid] > nums[mid+1]:
                r = mid
            else:
                l = mid+1
        return l
```



- [153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/)  [ä»£ç ](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/solutions/1987499/by-endlesscheng-owgd/)    

> å·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± `1` åˆ° `n` æ¬¡ **æ—‹è½¬** åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ `nums = [0,1,2,4,5,6,7]` åœ¨å˜åŒ–åå¯èƒ½å¾—åˆ°ï¼š
>
> - è‹¥æ—‹è½¬ `4` æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° `[4,5,6,7,0,1,2]`
> - è‹¥æ—‹è½¬ `7` æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° `[0,1,2,4,5,6,7]`
>
> æ³¨æ„ï¼Œæ•°ç»„ `[a[0], a[1], a[2], ..., a[n-1]]` **æ—‹è½¬ä¸€æ¬¡** çš„ç»“æœä¸ºæ•°ç»„ `[a[n-1], a[0], a[1], a[2], ..., a[n-2]]` ã€‚
>
> ç»™ä½ ä¸€ä¸ªå…ƒç´ å€¼ **äº’ä¸ç›¸åŒ** çš„æ•°ç»„ `nums` ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ **æœ€å°å…ƒç´ ** ã€‚
>
> ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

æ€è·¯ï¼šä»¥å³ç«¯ç‚¹targetä½œä¸ºåŸºå‡†å€¼ï¼Œæ ¹æ®nums[mid]å’Œtargetå¤§å°å…³ç³»ç¡®å®šåŒºé—´ã€‚

å…·ä½“çš„ï¼Œå¯¹äºæŸä¸ªæ•°nums[i]ï¼Œå¦‚æœnums[i]æ¯”åŸºå‡†å€¼å¤§ï¼Œé‚£ä¹ˆè¯´æ˜å®ƒåœ¨æ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œè€Œæœ€å°å€¼åœ¨ååŠéƒ¨åˆ†ï¼Œæ‰€ä»¥ç¼©å°åŒºé—´æˆ[i+1,r]ï¼Œåä¹‹åŒç†

![image-20230902153258663](images/image-20230902153258663.png)

```
class Solution:
    def findMin(self, nums: List[int]) -> int:
        n = len(nums)
        l,r = 0,n-1
        # 
        target = nums[-1]
        while l<r:
            mid = l+r>>1
            if nums[mid] < target:
                r = mid
            else:
                l = mid+1
        return nums[l]
```



-  [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/)  [ä»£ç ](https://leetcode.cn/problems/search-in-rotated-sorted-array/solutions/1987503/by-endlesscheng-auuh/)  ä¸¤ç§æ–¹æ³• 

> æ•´æ•°æ•°ç»„ `nums` æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ **äº’ä¸ç›¸åŒ** ã€‚
>
> åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬**ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼ˆä¸‹æ ‡ **ä» 0 å¼€å§‹** è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `[0,1,2,4,5,6,7]` åœ¨ä¸‹æ ‡ `3` å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` ã€‚
>
> ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œå¦‚æœ `nums` ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ `target` ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› `-1` ã€‚
>
> ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

è¾ƒéš¾

å°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒï¼Œå…¶ä¸­ä¸€å®šæœ‰ä¸€ä¸ªæ˜¯æœ‰åºçš„ï¼Œå¦ä¸€ä¸ªå¯èƒ½æ˜¯æœ‰åºï¼Œä¹Ÿèƒ½æ˜¯éƒ¨åˆ†æœ‰åºã€‚
æ­¤æ—¶æœ‰åºéƒ¨åˆ†ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚æ— åºéƒ¨åˆ†å†ä¸€åˆ†ä¸ºäºŒï¼Œå…¶ä¸­ä¸€ä¸ªä¸€å®šæœ‰åºï¼Œå¦ä¸€ä¸ªå¯èƒ½æœ‰åºï¼Œå¯èƒ½æ— åºã€‚å°±è¿™æ ·å¾ªç¯. 

```
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        def find(nums,left,right,target):
            if left==right:
                return left if nums[left]==target else -1
            mid = left+right>>1
            # midè½åœ¨å·¦è¾¹æœ‰åºæ•°ç»„ä¸Šäº†
            if nums[left] <= nums[mid]:
                # å¦‚æœtaråœ¨å·¦è¾¹æœ‰åºæ•°ç»„ä¸Š
                if nums[mid] >= target >= nums[left]:
                    i = bisect.bisect_left(nums,target,left,mid)
                    return i if nums[i]==target else -1
                else:
                    return find(nums,mid+1,right,target)
            # midè½åœ¨å³è¾¹æœ‰åºæ•°ç»„ä¸Šäº†
            else:
                # å¦‚æœtaråœ¨å³è¾¹æœ‰åºæ•°ç»„ä¸Š
                if nums[mid] <= target <= nums[right]:
                    i = bisect.bisect_left(nums,target,mid,right)
                    return i if nums[i]==target else -1
                else:
                    return find(nums,left,mid-1,target)
        return find(nums,0,len(nums)-1,target)
```



- [154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/)  [ä»£ç ](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/solution/zhi-yao-ni-hui-153-jiu-neng-kan-dong-pyt-qqc6/)  *è¯¾åä½œä¸š  

> å·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± `1` åˆ° `n` æ¬¡ **æ—‹è½¬** åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ `nums = [0,1,4,4,5,6,7]` åœ¨å˜åŒ–åå¯èƒ½å¾—åˆ°ï¼š
>
> - è‹¥æ—‹è½¬ `4` æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° `[4,5,6,7,0,1,4]`
> - è‹¥æ—‹è½¬ `7` æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° `[0,1,4,4,5,6,7]`
>
> æ³¨æ„ï¼Œæ•°ç»„ `[a[0], a[1], a[2], ..., a[n-1]]` **æ—‹è½¬ä¸€æ¬¡** çš„ç»“æœä¸ºæ•°ç»„ `[a[n-1], a[0], a[1], a[2], ..., a[n-2]]` ã€‚
>
> ç»™ä½ ä¸€ä¸ªå¯èƒ½å­˜åœ¨ **é‡å¤** å…ƒç´ å€¼çš„æ•°ç»„ `nums` ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ **æœ€å°å…ƒç´ ** ã€‚
>
> ä½ å¿…é¡»å°½å¯èƒ½å‡å°‘æ•´ä¸ªè¿‡ç¨‹çš„æ“ä½œæ­¥éª¤ã€‚

è¦è€ƒè™‘é‡å¤çš„å…ƒç´ 

```
class Solution:
    def findMin(self, nums: List[int]) -> int:
        n = len(nums)
        l,r = 0,n-1
        while l<r:
            mid = l+r>>1
            if nums[mid] < nums[r]:
                r = mid
            elif nums[mid] > nums[r]:
                l = mid + 1
            else:
                r-=1
        return nums[l]
```



### [é“¾è¡¨ - åè½¬ç³»åˆ—](https://www.bilibili.com/video/BV1sd4y1x7KN/)  

[206. åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/)  [ä»£ç ](https://leetcode.cn/problems/reverse-linked-list/solutions/1992225/you-xie-cuo-liao-yi-ge-shi-pin-jiang-tou-o5zy/)      

[92. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)  [ä»£ç ](https://leetcode.cn/problems/reverse-linked-list-ii/solutions/1992226/you-xie-cuo-liao-yi-ge-shi-pin-jiang-tou-teqq/)      

[25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/)  [ä»£ç ](https://leetcode.cn/problems/reverse-nodes-in-k-group/solutions/1992228/you-xie-cuo-liao-yi-ge-shi-pin-jiang-tou-plfs/)     

 [24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/swap-nodes-in-pairs/)  [ä»£ç ](https://leetcode.cn/problems/swap-nodes-in-pairs/solution/tu-jie-die-dai-di-gui-yi-zhang-tu-miao-d-51ap)  *è¯¾åä½œä¸š   

 [445. ä¸¤æ•°ç›¸åŠ  II](https://leetcode.cn/problems/add-two-numbers-ii/)  [ä»£ç ](https://leetcode.cn/problems/add-two-numbers-ii/solution/fan-zhuan-lian-biao-liang-shu-xiang-jia-okw6q)  *è¯¾åä½œä¸š 

###  [é“¾è¡¨ - å¿«æ…¢æŒ‡é’ˆ](https://www.bilibili.com/video/BV1KG4y1G7cu/)

  [876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode.cn/problems/middle-of-the-linked-list/)  [ä»£ç ](https://leetcode.cn/problems/middle-of-the-linked-list/solutions/1999265/mei-xiang-ming-bai-yi-ge-shi-pin-jiang-t-wzwm/)     

 [141. ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/)  [ä»£ç ](https://leetcode.cn/problems/linked-list-cycle/solutions/1999269/mei-xiang-ming-bai-yi-ge-shi-pin-jiang-t-c4sw/)    

  [142. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/)  [ä»£ç ](https://leetcode.cn/problems/linked-list-cycle-ii/solutions/1999271/mei-xiang-ming-bai-yi-ge-shi-pin-jiang-t-nvsq/)    

  [143. é‡æ’é“¾è¡¨](https://leetcode.cn/problems/reorder-list/)  [ä»£ç ](https://leetcode.cn/problems/reorder-list/solutions/1999276/mei-xiang-ming-bai-yi-ge-shi-pin-jiang-t-u66q/)   

###  [é“¾è¡¨ - åˆ é™¤ç³»åˆ—](https://www.bilibili.com/video/BV1VP4y1Q71e/)  

[237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/delete-node-in-a-linked-list/)  [ä»£ç ](https://leetcode.cn/problems/delete-node-in-a-linked-list/solutions/2004056/ru-he-shan-chu-jie-dian-liu-fen-zhong-ga-x3kn/)  è„‘ç­‹æ€¥è½¬å¼¯

â€‹    [19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)  [ä»£ç ](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/solutions/2004057/ru-he-shan-chu-jie-dian-liu-fen-zhong-ga-xpfs/)  å‰åæŒ‡é’ˆ 

   [83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/)  [ä»£ç ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/solutions/2004062/ru-he-qu-zhong-yi-ge-shi-pin-jiang-tou-p-98g7/)      [82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II](https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/)  [ä»£ç ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/solutions/2004067/ru-he-qu-zhong-yi-ge-shi-pin-jiang-tou-p-2ddn/) 

###    [äºŒå‰æ ‘ä¸é€’å½’ - æ·±å…¥ç†è§£](https://www.bilibili.com/video/BV1UD4y1Y769/)  

- [104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)  [ä»£ç ](https://leetcode.cn/problems/maximum-depth-of-binary-tree/solution/kan-wan-zhe-ge-shi-pin-rang-ni-dui-di-gu-44uz/)  ä¸¤ç§æ–¹æ³•	

  æ–¹æ³•1ï¼šç”¨å­èŠ‚ç‚¹æ›´æ–°çˆ¶èŠ‚ç‚¹

  ```
  class Solution:
      def maxDepth(self, root: Optional[TreeNode]) -> int:
          if root is None:
              return 0
          mx = max(self.maxDepth(root.left),self.maxDepth(root.right))
          return mx+1
  ```

  æ–¹æ³•2ï¼šçˆ¶èŠ‚ç‚¹çŠ¶æ€ä¼ é€’ç»™å­èŠ‚ç‚¹

  ```
  class Solution:
      def maxDepth(self, root: Optional[TreeNode]) -> int:
          ans = 0
          def dfs(root,dep):
              if root is None:
                  return 
              nonlocal ans
              ans = max(ans,dep+1)
              dfs(root.left,dep+1)
              dfs(root.right,dep+1)
          dfs(root,0)
          return ans
  ```

  

###   [äºŒå‰æ ‘ä¸é€’å½’ - çµæ´»è¿ç”¨](https://www.bilibili.com/video/BV18M411z7bb/)  

- [100. ç›¸åŒçš„æ ‘](https://leetcode.cn/problems/same-tree/)  [ä»£ç ](https://leetcode.cn/problems/same-tree/solutions/2015056/ru-he-ling-huo-yun-yong-di-gui-lai-kan-s-empk/)    

  > åˆ¤æ–­ä¸¤æ£µæ ‘æ˜¯å¦å¯¹ç§°

  ```
  class Solution:
      def isSameTree(self, p: Optional[TreeNode], q: Optional[TreeNode]) -> bool:
          if not p and not q:
              return True
          if not p or not q:
              return False
          if p.val != q.val:
              return False
          return self.isSameTree(p.left,q.left) and self.isSameTree(p.right,q.right)
  ```

  

- [101. å¯¹ç§°äºŒå‰æ ‘](https://leetcode.cn/problems/symmetric-tree/)  [ä»£ç ](https://leetcode.cn/problems/symmetric-tree/solutions/2015063/ru-he-ling-huo-yun-yong-di-gui-lai-kan-s-6dq5/)    

  > ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œ æ£€æŸ¥å®ƒæ˜¯å¦è½´å¯¹ç§°ã€‚

  ```
  class Solution:
      def isSymmetric(self, root: Optional[TreeNode]) -> bool:
          # ä¿®æ”¹100. ç›¸åŒçš„æ ‘çš„ä»£ç 
          def isSame(p,q):
              if not p or not q:
                  return not p and not q
              return p.val == q.val and isSame(p.left,q.right) and isSame(p.right,q.left)
          return isSame(root.left,root.right)
  ```

- [110. å¹³è¡¡äºŒå‰æ ‘](https://leetcode.cn/problems/balanced-binary-tree/)  [ä»£ç ](https://leetcode.cn/problems/balanced-binary-tree/solutions/2015068/ru-he-ling-huo-yun-yong-di-gui-lai-kan-s-c3wj/)    

  > ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚
  >
  > æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š
  >
  > > ä¸€ä¸ªäºŒå‰æ ‘*æ¯ä¸ªèŠ‚ç‚¹* çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1 ã€‚

  ```
  class Solution:
      def isBalanced(self, root: Optional[TreeNode]) -> bool:
          def dfs(root)->int:
              if not root:
                  return 0
              return max(dfs(root.left),dfs(root.right))+1
          if not root:
              return True
          return abs(dfs(root.left)-dfs(root.right))<=1 and self.isBalanced(root.left) and self.isBalanced(root.right) 
  ```

  

- [199. äºŒå‰æ ‘çš„å³è§†å›¾](https://leetcode.cn/problems/binary-tree-right-side-view/)  [ä»£ç ](https://leetcode.cn/problems/binary-tree-right-side-view/solutions/2015061/ru-he-ling-huo-yun-yong-di-gui-lai-kan-s-r1nc/)   

  > ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ **æ ¹èŠ‚ç‚¹** `root`ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚

  æ–¹æ³•1ï¼šå…ˆé€’å½’å³å­æ ‘ï¼Œå†æ‰¾å‰©å¤šå‡ºæ¥çš„(å¾ˆå¦™ï¼ï¼ï¼)

  ```
  class Solution:
      def rightSideView(self, root: Optional[TreeNode]) -> List[int]:
          ans = []
          def dfs(root,dep):
              if root is None:
                  return
              if dep == len(ans):
                  ans.append(root.val)
              dfs(root.right,dep+1)
              dfs(root.left,dep+1)          
          dfs(root,0) 
          return ans 
  ```

  æ–¹æ³•2ï¼šBFS

  ```
  class Solution:
      def rightSideView(self, root: Optional[TreeNode]) -> List[int]:
          q = deque()
          if not root:
              return []
          q.append(root)
          ans = []
          while len(q):
              sz = len(q)
              t = TreeNode(-1)
              while sz:
                  t = q.popleft()
                  if t.left:
                      q.append(t.left)
                  if t.right:
                      q.append(t.right)
                  sz-=1
              if t.val!=-1:
                  ans.append(t.val)
          return ans
  ```

  

- [1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/)  [ä»£ç ](https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/solution/liang-chong-fang-fa-zi-ding-xiang-xia-zi-wj9v/)  *è¯¾åä½œä¸š 

  > ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œæ‰¾å‡ºå­˜åœ¨äº **ä¸åŒ** èŠ‚ç‚¹ `A` å’Œ `B` ä¹‹é—´çš„æœ€å¤§å€¼ `V`ï¼Œå…¶ä¸­ `V = |A.val - B.val|`ï¼Œä¸” `A` æ˜¯ `B` çš„ç¥–å…ˆã€‚
  >
  > ï¼ˆå¦‚æœ A çš„ä»»ä½•å­èŠ‚ç‚¹ä¹‹ä¸€ä¸º Bï¼Œæˆ–è€… A çš„ä»»ä½•å­èŠ‚ç‚¹æ˜¯ B çš„ç¥–å…ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸º A æ˜¯ B çš„ç¥–å…ˆï¼‰

  ç»´æŠ¤æœ€å¤§ã€æœ€å°å€¼

  ç”¨çˆ¶èŠ‚ç‚¹çš„çŠ¶æ€æ›´æ–°å­èŠ‚ç‚¹
  
  ```
  class Solution:
      def maxAncestorDiff(self, root: Optional[TreeNode]) -> int:
          ans = -inf
          def dfs(root,ma,mi):
              if root is None:
                  return
              nonlocal ans
              if ma==-1 and mi==-1:
                  ma = -inf
                  mi = inf
              else:
                  ans = max(ans,abs(ma-root.val),abs(mi-root.val))
              print(root.val,ans)
              nma = max(root.val,ma)
              nmi = min(root.val,mi)
              
              dfs(root.left,nma,nmi)
              dfs(root.right,nma,nmi)
          dfs(root,-1,-1)
        return ans
  ```

  
  
   [1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹](https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/)  [ä»£ç ](https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/solution/jian-ji-xie-fa-diao-yong-zi-shen-pythonj-64lf/)  *è¯¾åä½œä¸š 
  
  > ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œä¸€ä¸ªæ•´æ•° `limit` ï¼Œè¯·ä½ åŒæ—¶åˆ é™¤æ ‘ä¸­æ‰€æœ‰ **ä¸è¶³èŠ‚ç‚¹** ï¼Œå¹¶è¿”å›æœ€ç»ˆäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚
  >
  > å‡å¦‚é€šè¿‡èŠ‚ç‚¹ `node` çš„æ¯ç§å¯èƒ½çš„ â€œæ ¹-å¶â€ è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„ `limit`ï¼Œåˆ™è¯¥èŠ‚ç‚¹è¢«ç§°ä¹‹ä¸º **ä¸è¶³èŠ‚ç‚¹** ï¼Œéœ€è¦è¢«åˆ é™¤ã€‚
  >
  > **å¶å­èŠ‚ç‚¹**ï¼Œå°±æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚
  >
  > 1805
  
  ä¸å¥½æƒ³çš„é€’å½’
  
  ```python
  class Solution:
      def sufficientSubset(self, root: Optional[TreeNode], limit: int) -> Optional[TreeNode]:
          # è¿”å›æ–°æ ‘çš„æ ¹èŠ‚ç‚¹
          def dfs(root,s):
              s += root.val
              # å¦‚æœrootæ˜¯å¶å­èŠ‚ç‚¹
              if root.left is None and root.right is None:
                  return root if s>=limit else None
              # å¦‚æœæ˜¯éå¶å­èŠ‚ç‚¹
              if root.left:
                  root.left = dfs(root.left,s)
              if root.right:
                  root.right = dfs(root.right,s)
              # å¦‚æœrootçš„å„¿å­éƒ½è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆrootä¹Ÿè¦åˆ é™¤
              if root.left is None and root.right is None:
                  return None
              else:
                  return root
          return dfs(root,0)
  ```
  
  

###  [äºŒå‰æ ‘ä¸é€’å½’ - å‰åº/ä¸­åº/ååº](https://www.bilibili.com/video/BV14G411P7C1/)  

[98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/validate-binary-search-tree/)  [ä»£ç ](https://leetcode.cn/problems/validate-binary-search-tree/solutions/2020306/qian-xu-zhong-xu-hou-xu-san-chong-fang-f-yxvh/)  ä¸‰ç§æ–¹æ³• 

 [äºŒå‰æ ‘ä¸é€’å½’ - æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://www.bilibili.com/video/BV1W44y1Z7AR/) 

 [236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/)  [ä»£ç ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/solutions/2023872/fen-lei-tao-lun-luan-ru-ma-yi-ge-shi-pin-2r95/)    

  [235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/)  [ä»£ç ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/solutions/2023873/zui-jin-gong-gong-zu-xian-yi-ge-shi-pin-8h2zc/)  

  [äºŒå‰æ ‘ - BFS](https://www.bilibili.com/video/BV1hG4y1277i/) 

 [102. äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode.cn/problems/binary-tree-level-order-traversal/)  [ä»£ç ](https://leetcode.cn/problems/binary-tree-level-order-traversal/solutions/2049807/bfs-wei-shi-yao-yao-yong-dui-lie-yi-ge-s-xlpz/)  ä¸¤ç§å†™æ³•   

 [103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†](https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/)  [ä»£ç ](https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/solutions/2049827/bfs-wei-shi-yao-yao-yong-dui-lie-yi-ge-s-xlv3/)  ä¸¤ç§å†™æ³• 

   [513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼](https://leetcode.cn/problems/find-bottom-left-tree-value/)  [ä»£ç ](https://leetcode.cn/problems/find-bottom-left-tree-value/solutions/2049776/bfs-wei-shi-yao-yao-yong-dui-lie-yi-ge-s-f34y/) 

   [å›æº¯ - å­é›†å‹](https://www.bilibili.com/video/BV1mG4y1A7Gu/) 

 [17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)  [ä»£ç ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/solutions/2059416/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-3orv/)  å¼•å…¥å›æº¯æ¦‚å¿µç”¨ 

   [78. å­é›†](https://leetcode.cn/problems/subsets/)  [ä»£ç ](https://leetcode.cn/problems/subsets/solutions/2059409/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-8tkl/)  ä¸¤ç§å†™æ³• 

   [131. åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning/)  [ä»£ç ](https://leetcode.cn/problems/palindrome-partitioning/solutions/2059414/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-fues/)  ä¸¤ç§å†™æ³•

  [å›æº¯ - ç»„åˆå‹ä¸å‰ªæ](https://www.bilibili.com/video//) 

 [77. ç»„åˆ](https://leetcode.cn/problems/combinations/)  [ä»£ç ](https://leetcode.cn/problems/combinations/solutions/2071017/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-65lh/)  ä¸¤ç§å†™æ³•  

  [216. ç»„åˆæ€»å’Œ III](https://leetcode.cn/problems/combination-sum-iii/)  [ä»£ç ](https://leetcode.cn/problems/combination-sum-iii/solutions/2071013/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-feme/)  ä¸¤ç§å†™æ³•  

  [22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/)  [ä»£ç ](https://leetcode.cn/problems/generate-parentheses/solutions/2071015/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-wcdw/)  ä¸¤ç§å†™æ³• 

 [å›æº¯ - æ’åˆ—å‹](https://www.bilibili.com/video/BV1mY411D7f6/) 

 [46. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)  [ä»£ç ](https://leetcode.cn/problems/permutations/solutions/2079585/hui-su-bu-hui-xie-tao-lu-zai-ci-jing-que-6hrh/)  ç²¾ç¡®è®¡ç®—æœç´¢æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°  

  [51. N çš‡å](https://leetcode.cn/problems/n-queens/)  [ä»£ç ](https://leetcode.cn/problems/n-queens/solutions/2079586/hui-su-tao-lu-miao-sha-nhuang-hou-shi-pi-mljv/)    

  [52. N çš‡å II](https://leetcode.cn/problems/n-queens-ii/)  [ä»£ç ](https://leetcode.cn/problems/n-queens-ii/solution/hui-su-miao-sha-nhuang-hou-yi-ge-shi-pin-l41l)  



## DFS

### æ ‡è®°æ ‘ä¸Šèµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ä¸Šçš„æ‰€æœ‰ç‚¹

æšä¸¾åˆ°rootï¼Œå…ˆé€’å½’è®¿é—®å­èŠ‚ç‚¹jï¼Œå½“è¿”å›Trueæ—¶ï¼Œä»£è¡¨æ˜¯è¿™æ¡è·¯ï¼Œåˆ™æ ‡è®°root

```
        def dfs_cnt(root,end,fa):
            if root == end:
                cnt[root]+=1
                return True
            for j in e[root]:
                if j != fa:
                    if dfs_cnt(j,end,root):
                        cnt[root]+=1
                        return True
            return False
```



## lcä¸­dpåˆå§‹æ¡ä»¶çš„ç»†èŠ‚

dpéœ€è¦ç»™å®šä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œä¸€èˆ¬æ˜¯dp[0]ï¼Œä¸€èˆ¬å†™çš„æ—¶å€™ä¸‹æ ‡æœ€å¥½éƒ½ä»1å¼€å§‹ï¼Œè¿™æ ·ï¼Œdo[0]å°±è¡¨ç¤ºæ— æ„ä¹‰çš„åˆå§‹çŠ¶æ€ï¼Œä½†æ˜¯åœ¨leetcodeä¸­ä¸€èˆ¬ä¸‹æ ‡éƒ½ä»0å¼€å§‹ï¼Œå¦‚æœä¸æ”¹å˜ä¸‹æ ‡ï¼Œéƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œä¸‹é¢åˆ†æä¸€ä¸‹

- å¦‚æœæ˜¯pythonï¼Œåªéœ€è¦å®šä¹‰çš„æ—¶å€™dpæ•°ç»„å¤šå®šä¹‰ä¸€ä¸ªï¼Œç„¶ådp[-1]è¡¨ç¤ºåˆå§‹çŠ¶æ€ï¼Œè¿™æ ·æœ€æ–¹ä¾¿
- å¦‚æœæ˜¯å…¶ä»–è¯­è¨€ï¼Œé‚£ä¹ˆåœ¨å†™çŠ¶æ€è½¬ç§»çš„æ—¶å€™ï¼Œè¦å°†dpæ•°ç»„ä¸‹æ ‡å‘åè¿›è¡Œåç§»ã€‚æ¯”å¦‚`dp[i][j] = max(dp[i-1][j] ,dp[i][j-1]) + nums[i] `å°±è¦å†™æˆ`dp[i+1][j+1] = max(dp[i][j+1] ,dp[i+1][j]) + nums[i]`ï¼Œæœ€åçš„ç­”æ¡ˆä¹Ÿè¦åç§»ã€‚

### [åŠ¨æ€è§„åˆ’ - ä»è®°å¿†åŒ–æœç´¢åˆ°é€’æ¨](https://www.bilibili.com/video/BV1Xj411K7oF/) 

- [198. æ‰“å®¶åŠ«èˆ](https://leetcode.cn/problems/house-robber/)  [ä»£ç ](https://leetcode.cn/problems/house-robber/solutions/2102725/ru-he-xiang-chu-zhuang-tai-ding-yi-he-zh-1wt1/)  åŒ…å«ç©ºé—´ä¼˜åŒ–   

  > ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦**ã€‚
  >
  > ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  **ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹** ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

  dp[i]è¡¨ç¤ºå‰iä¸ªä¸­é€‰çš„æœ€å¤§å€¼

  ```
  class Solution:
      def rob(self, nums: List[int]) -> int:
          n = len(nums)
          dp =[0]*(n+1)
          dp[0] = nums[0]
          for i in range(1,n):
              dp[i] = max(dp[i-1],dp[i-2]+nums[i])
          return dp[n-1]
  ```

-  [213. æ‰“å®¶åŠ«èˆ II](https://leetcode.cn/problems/house-robber-ii/)  [ä»£ç ](https://leetcode.cn/problems/house-robber-ii/solution/jian-ji-xie-fa-zhi-jie-diao-yong-198-ti-8ff81/)  *è¯¾åä½œä¸š 

  > ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½ **å›´æˆä¸€åœˆ** ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦** ã€‚
  >
  > ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  **åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹** ï¼Œä»Šæ™šèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

  ç¯å½¢æ‰“å®¶åŠ«èˆ

  æ€è€ƒå¦‚ä½•æŠŠç¯å½¢è½¬æ¢æˆçº¿æ€§çš„é—®é¢˜

  æ€è·¯ï¼šè€ƒè™‘nums[0]é€‰è¿˜æ˜¯ä¸é€‰

  ```
  class Solution:
      def rob(self, nums: List[int]) -> int:
          # 198é¢˜çš„ä»£ç 
          def rob198(nums: List[int]) -> int:
              n = len(nums)
              if n==0:
                  return 0
              dp =[0]*(n+1)
              dp[0] = nums[0]
              for i in range(1,n):
                  dp[i] = max(dp[i-1],dp[i-2]+nums[i])
              return dp[n-1]
          return max(rob198(nums[2:-1])+nums[0],rob198(nums[1:]))
  ```

- [2466. ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°](https://leetcode.cn/problems/count-ways-to-build-good-strings/)

  > ç»™ä½ æ•´æ•° `zero` ï¼Œ`one` ï¼Œ`low` å’Œ `high` ï¼Œæˆ‘ä»¬ä»ç©ºå­—ç¬¦ä¸²å¼€å§‹æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸€æ­¥æ‰§è¡Œä¸‹é¢æ“ä½œä¸­çš„ä¸€ç§ï¼š
  >
  > - å°† `'0'` åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  `zero` æ¬¡ã€‚
  > - å°† `'1'` åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  `one` æ¬¡ã€‚
  >
  > ä»¥ä¸Šæ“ä½œå¯ä»¥æ‰§è¡Œä»»æ„æ¬¡ã€‚
  >
  > å¦‚æœé€šè¿‡ä»¥ä¸Šè¿‡ç¨‹å¾—åˆ°ä¸€ä¸ª **é•¿åº¦** åœ¨ `low` å’Œ `high` ä¹‹é—´ï¼ˆåŒ…å«ä¸Šä¸‹è¾¹ç•Œï¼‰çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²æˆ‘ä»¬ç§°ä¸º **å¥½** å­—ç¬¦ä¸²ã€‚
  >
  > è¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸Šè¦æ±‚çš„ **ä¸åŒ** å¥½å­—ç¬¦ä¸²æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚
  >
  >  1694

  ```
  class Solution:
      def countGoodStrings(self, low: int, high: int, zero: int, one: int) -> int:
          mod = 10**9+7
          dp = [0]*(high+1)
          dp[0] = 1
          for i in range(high+1):
              if i-zero>=0:
                  dp[i] = dp[i-zero] 
              if i-one>=0:
                  dp[i] = (dp[i] + dp[i-one])%mod
          ans = 0
          for i in range(low,high+1):
              ans = (ans + dp[i])%mod
          return ans
  ```

  

###  [0-1 èƒŒåŒ… å®Œå…¨èƒŒåŒ… è‡³å¤š/æ°å¥½/è‡³å°‘](https://www.bilibili.com/video/BV16Y411v7Y6/) 

 å®Œå…¨èƒŒåŒ…è¯æ˜ï¼š![image-20230922225710807](images/image-20230922225710807.png)

- [494. ç›®æ ‡å’Œ](https://leetcode.cn/problems/target-sum/)  [ä»£ç ](https://leetcode.cn/problems/target-sum/solutions/2119041/jiao-ni-yi-bu-bu-si-kao-dong-tai-gui-hua-s1cx/)  åŒ…å«ç©ºé—´ä¼˜åŒ–  

  > ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ã€‚
  >
  > å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  `'+'` æˆ– `'-'` ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª **è¡¨è¾¾å¼** ï¼š
  >
  > - ä¾‹å¦‚ï¼Œ`nums = [2, 1]` ï¼Œå¯ä»¥åœ¨ `2` ä¹‹å‰æ·»åŠ  `'+'` ï¼Œåœ¨ `1` ä¹‹å‰æ·»åŠ  `'-'` ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ `"+2-1"` ã€‚
  >
  > è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº `target` çš„ä¸åŒ **è¡¨è¾¾å¼** çš„æ•°ç›®ã€‚

  01èƒŒåŒ…ã€ç¬¬äºŒç»´æšä¸¾æœ€å¤§ä¸Šä¸‹ç•Œ

  ```
  class Solution:
      def findTargetSumWays(self, nums: List[int], target: int) -> int:
          n = len(nums)
          dp = [[0]*(2001) for _ in range(n+1)]
          dp[-1][0] = 1
          for i in range(n):
              for j in range(-1000,1001):
                  dp[i][j] = dp[i-1][j-nums[i]] + dp[i-1][j+nums[i]]
          return dp[n-1][target]
  ```

- [518. é›¶é’±å…‘æ¢ II](https://leetcode.cn/problems/coin-change-ii/)

  å®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°

  ```
  class Solution:
      def change(self, amount: int, coins: List[int]) -> int:
          n = len(coins)
          dp = [0]*(amount+1)
          dp[0] = 1
          for i in range(n):
              for j in range(coins[i],amount+1):
                  dp[j] += dp[j-coins[i]]
          return dp[amount]
  ```

  

- [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/perfect-squares/)

  > ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œé€‰æ‹©ä¸€äº›ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆansä¸ªï¼‰ï¼Œä½¿å¾—å’Œæ˜¯nï¼Œæ±‚ansçš„æœ€å°å€¼ ã€‚
  >
  > è¾“å…¥ï¼šn = 12
  > è¾“å‡ºï¼š3 
  > è§£é‡Šï¼š12 = 4 + 4 + 4

  å®Œå…¨èƒŒåŒ…æ±‚é€‰æ³•çš„æœ€å°‘é€‰æ‹©ä¸ªæ•°

  ä¸€ç»´å†™æ³•å¦‚ä¸‹ï¼š

  ```
  class Solution:
      def numSquares(self, n: int) -> int:
          nums = [-1]
          i = 1
          while i ** 2 <= n:
              nums.append(i ** 2)
              i += 1
          nn = len(nums)-1
          dp = [inf]*(n+1)
          dp[0] = 0
  
          for i in range(1,nn+1):
              for j in range(n+1):
                  if nums[i]<=j:
                      dp[j] = min(dp[j],dp[j-nums[i]]+1)
          return dp[n]
  ```

  æš´åŠ›å†™æ³•ï¼š

  ```
  class Solution:
      def numSquares(self, n: int) -> int:
          nums = []
          i = 1
          while i ** 2 <= n:
              nums.append(i ** 2)
              i += 1
          nn = len(nums)
          dp = [[inf] * (n + 1) for _ in range(nn)]
          for i in range(nn):
              dp[i][0] = 0
          for i in range(nn):
              for j in range(1, n + 1):
                  if i == 0:
                      if j % nums[i] == 0:
                          dp[i][j] = j // nums[i]
                          continue
                  dp[i][j] = dp[i - 1][j]
                  for k in range(j // nums[i] + 1):
                      dp[i][j] = min(dp[i][j], dp[i - 1][j - k * nums[i]] + k)
          return dp[nn - 1][n]
  ```

- [322. é›¶é’±å…‘æ¢](https://leetcode.cn/problems/coin-change/)  [ä»£ç ](https://leetcode.cn/problems/coin-change/solutions/2119065/jiao-ni-yi-bu-bu-si-kao-dong-tai-gui-hua-21m5/)  åŒ…å«ç©ºé—´ä¼˜åŒ– 

  > ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° `amount` ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚
  >
  > è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ **æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°** ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1` ã€‚
  >
  > ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

  å®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆçš„æœ€å°‘é€‰æ‹©ä¸ªæ•°

  æ¨å…¬å¼ï¼ˆæœ¬é¢˜å’Œä¸Šä¸€é¢˜279. å®Œå…¨å¹³æ–¹æ•°ä¸€æ¨¡ä¸€æ ·ï¼‰

  äºŒç»´å†™æ³•å¦‚ä¸‹ï¼š

  ```
  class Solution:
      def coinChange(self, coins: List[int], amount: int) -> int:
          n = len(coins)
          dp = [[inf]*(amount+1) for _ in range(n+1)]
          dp[-1][0] = 0
          for i in range(n):
              for j in range(amount+1):
                  dp[i][j] = dp[i-1][j]
                  if j-coins[i]>=0:
                      dp[i][j] = min(dp[i][j],dp[i][j-coins[i]]+1)
          ans = dp[n-1][amount]
          return ans if ans!=inf else -1
  ```

- [416. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode.cn/problems/partition-equal-subset-sum/)

  > ç»™ä½ ä¸€ä¸ª **åªåŒ…å«æ­£æ•´æ•°** çš„ **éç©º** æ•°ç»„ `nums` ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚

  01èƒŒåŒ…é—®é¢˜ï¼Œ`dp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°ä¸­é€‰ï¼Œå’Œæ˜¯jçš„æ–¹æ¡ˆæ˜¯å¦å­˜åœ¨ï¼ˆTrueå’ŒFalseï¼‰`

  è¿™é¢˜åªéœ€è¦æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ–¹æ¡ˆçš„å’Œæ˜¯sum(nums)//2

  ```
  class Solution:
      def canPartition(self, nums: List[int]) -> bool:
          n = len(nums)
          s = sum(nums)
          if s%2:
              return False
          target = s//2
          dp = [False]*(target+1)
          dp[0] = True
          for i in range(n):
              for j in range(target,nums[i]-1,-1):
                  dp[j] |= dp[j-nums[i]]
          return dp[target]
  ```

  

###  [æœ€é•¿å…¬å…±å­åºåˆ— LCS](https://www.bilibili.com/video/BV1TM4y1o7ug/)  

- [1143. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode.cn/problems/longest-common-subsequence/)  [ä»£ç ](https://leetcode.cn/problems/longest-common-subsequence/solutions/2133188/jiao-ni-yi-bu-bu-si-kao-dong-tai-gui-hua-lbz5/)  åŒ…å«ç©ºé—´ä¼˜åŒ–  

  ä¸éœ€è¦åˆå§‹å€¼ï¼Ÿ

  æ€è€ƒï¼š

  - `å½“s[i]!=t[j]æ—¶ï¼Œä¸éœ€è¦dp[i-1][j-1]`
  - `å½“s[i]==t[j]æ—¶ï¼Œä¸éœ€è¦dp[i-1][j]ã€dp[i][j-1]`

  ```
  class Solution:
      def longestCommonSubsequence(self, text1: str, text2: str) -> int:
          n1 = len(text1)
          n2 = len(text2)
          dp = [[0]*(n2+1) for _ in range(n1+1)]
  
          for i in range(n1):
              for j in range(n2):
                  dp[i][j] = max(dp[i-1][j],dp[i][j-1])
                  if text1[i]==text2[j]:
                      dp[i][j] = max(dp[i][j],dp[i-1][j-1]+1)
          return dp[n1-1][n2-1]
  ```

  

- [72. ç¼–è¾‘è·ç¦»](https://leetcode.cn/problems/edit-distance/)  [ä»£ç ](https://leetcode.cn/problems/edit-distance/solutions/2133222/jiao-ni-yi-bu-bu-si-kao-dong-tai-gui-hua-uo5q/)  åŒ…å«ç©ºé—´ä¼˜åŒ–

  ```
  class Solution:
      def minDistance(self, word1: str, word2: str) -> int:
          n1,n2 = len(word1),len(word2)
          dp = [[inf]*(n2+1) for _ in range(n1+1)]
          for i in range(n1):
              dp[i][-1] = i+1
          for i in range(n2):
              dp[-1][i] = i+1
          # è¿™é¢˜ä¸é€‚åˆç”¨pythonå†™
          dp[-1][-1] = 0
          for i in range(n1):
              for j in range(n2):
                  dp[i][j] = min(dp[i-1][j],dp[i][j-1])+1
                  if word1[i]==word2[j]:
                      dp[i][j] = min(dp[i][j],dp[i-1][j-1])
                  else:
                      dp[i][j] = min(dp[i][j],dp[i-1][j-1]+1)
          return dp[n1-1][n2-1]
  ```

- [583. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åˆ é™¤æ“ä½œ](https://leetcode.cn/problems/delete-operation-for-two-strings/)
- [712. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°ASCIIåˆ é™¤å’Œ](https://leetcode.cn/problems/minimum-ascii-delete-sum-for-two-strings/)
- [1458. ä¸¤ä¸ªå­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯](https://leetcode.cn/problems/max-dot-product-of-two-subsequences/)
- [97. äº¤é”™å­—ç¬¦ä¸²](https://leetcode.cn/problems/interleaving-string/)

###   [æœ€é•¿é€’å¢å­åºåˆ— LIS](https://www.bilibili.com/video/BV1ub411Q7sB/) 

- [300. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence/)  [ä»£ç ](https://leetcode.cn/problems/longest-increasing-subsequence/solution/jiao-ni-yi-bu-bu-si-kao-dpfu-o1-kong-jia-4zma/)  åŒ…æ‹¬è´ªå¿ƒäºŒåˆ† + $O(1)$ ç©ºé—´ 

- [1626. æ— çŸ›ç›¾çš„æœ€ä½³çƒé˜Ÿ](https://leetcode.cn/problems/best-team-with-no-conflicts/)  [ä»£ç ](https://leetcode.cn/problems/best-team-with-no-conflicts/solution/zui-chang-di-zeng-zi-xu-lie-cong-on2-dao-ojqu/)  *è¯¾åä½œä¸š 

  > å‡è®¾ä½ æ˜¯çƒé˜Ÿçš„ç»ç†ã€‚å¯¹äºå³å°†åˆ°æ¥çš„é”¦æ ‡èµ›ï¼Œä½ æƒ³ç»„åˆä¸€æ”¯æ€»ä½“å¾—åˆ†æœ€é«˜çš„çƒé˜Ÿã€‚çƒé˜Ÿçš„å¾—åˆ†æ˜¯çƒé˜Ÿä¸­æ‰€æœ‰çƒå‘˜çš„åˆ†æ•° **æ€»å’Œ** ã€‚
  >
  > ç„¶è€Œï¼Œçƒé˜Ÿä¸­çš„çŸ›ç›¾ä¼šé™åˆ¶çƒå‘˜çš„å‘æŒ¥ï¼Œæ‰€ä»¥å¿…é¡»é€‰å‡ºä¸€æ”¯ **æ²¡æœ‰çŸ›ç›¾** çš„çƒé˜Ÿã€‚å¦‚æœä¸€åå¹´é¾„è¾ƒå°çƒå‘˜çš„åˆ†æ•° **ä¸¥æ ¼å¤§äº** ä¸€åå¹´é¾„è¾ƒå¤§çš„çƒå‘˜ï¼Œåˆ™å­˜åœ¨çŸ›ç›¾ã€‚åŒé¾„çƒå‘˜ä¹‹é—´ä¸ä¼šå‘ç”ŸçŸ›ç›¾ã€‚
  >
  > ç»™ä½ ä¸¤ä¸ªåˆ—è¡¨ `scores` å’Œ `ages`ï¼Œå…¶ä¸­æ¯ç»„ `scores[i]` å’Œ `ages[i]` è¡¨ç¤ºç¬¬ `i` åçƒå‘˜çš„åˆ†æ•°å’Œå¹´é¾„ã€‚è¯·ä½ è¿”å› **æ‰€æœ‰å¯èƒ½çš„æ— çŸ›ç›¾çƒé˜Ÿä¸­å¾—åˆ†æœ€é«˜é‚£æ”¯çš„åˆ†æ•°** ã€‚
  >
  > 2027

  LISå¥½é¢˜

  ç¬¬ä¸€ç»´æšä¸¾ä¸‹æ ‡

  è‡ªå®šä¹‰å¤æ‚æ’åºè§„åˆ™ï¼šæ ¹æ®ageæ’åºï¼Œæ‰¾scoreçš„æœ€é•¿ä¸Šå‡å­åºåˆ—

  ```
  class Solution:
      def bestTeamScore(self, scores: List[int], ages: List[int]) -> int:
          n = len(scores)
          idx = list(range(n))
          idx.sort(key = lambda x:(ages[x],scores[x]))
          dp = [-inf]*n
          ans = -inf
          for i in range(n):
              idxi = idx[i]
              dp[i] = scores[idxi]
              for j in range(i):
                  idxj = idx[j]
                  if scores[idxj]<=scores[idxi]:
                      dp[i] = max(dp[i],dp[j]+scores[idxi])
              ans = max(ans,dp[i])
          return ans
  ```

- [673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°](https://leetcode.cn/problems/number-of-longest-increasing-subsequence/)

- [1964. æ‰¾å‡ºåˆ°æ¯ä¸ªä½ç½®ä¸ºæ­¢æœ€é•¿çš„æœ‰æ•ˆéšœç¢èµ›è·‘è·¯çº¿](https://leetcode.cn/problems/find-the-longest-valid-obstacle-course-at-each-position/)

- [1671. å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•°](https://leetcode.cn/problems/minimum-number-of-removals-to-make-mountain-array/)

  > æˆ‘ä»¬å®šä¹‰ `arr` æ˜¯ **å±±å½¢æ•°ç»„** å½“ä¸”ä»…å½“å®ƒæ»¡è¶³ï¼š
  >
  > - `arr.length >= 3`
  > - å­˜åœ¨æŸä¸ªä¸‹æ ‡ iï¼ˆä» 0 å¼€å§‹ï¼‰ æ»¡è¶³ 0 < i < arr.length - 1ï¼Œä¸”ï¼š
  >   - `arr[0] < arr[1] < ... < arr[i - 1] < arr[i]`
  >   - `arr[i] > arr[i + 1] > ... > arr[arr.length - 1]`
  >
  > ç»™ä½ æ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·ä½ è¿”å›å°† `nums` å˜æˆ **å±±å½¢çŠ¶æ•°ç»„** çš„ **æœ€å°‘** åˆ é™¤æ¬¡æ•°ã€‚

  LISå¥½é¢˜
  æ±‚å‰ç¼€LISã€åç¼€LIS

  æ³¨æ„ï¼šLISé•¿åº¦å¿…é¡»å¤§äº1æ‰èƒ½æ›´æ–°ans

  ```
  class Solution:
      def minimumMountainRemovals(self, nums: List[int]) -> int:
          n = len(nums)
          dp = [0]*(n+1)
          for i in range(n):
              dp[i] = 1
              for j in range(i):
                  if nums[j]<nums[i]:
                      dp[i] = max(dp[i],dp[j]+1)
          dp2 = [0]*(n+1)
          ans = 0
          for i in range(n-1,-1,-1):
              dp2[i] = 1
              for j in range(i+1,n,1):
                  if nums[j]<nums[i]:
                      dp2[i] = max(dp2[i],dp2[j]+1)
              if dp[i]>1 and dp2[i]>1:
                  ans = max(ans,dp[i]+dp2[i]-1)
          return n-ans
  ```

  

- [354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜](https://leetcode.cn/problems/russian-doll-envelopes/)

  

###  [çŠ¶æ€æœº DP](https://www.bilibili.com/video/BV1ho4y1W7QK/) 

- [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)  [ä»£ç ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/solution/shi-pin-jiao-ni-yi-bu-bu-si-kao-dong-tai-o3y4/)    

  > ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `prices` ï¼Œå…¶ä¸­ `prices[i]` è¡¨ç¤ºæŸæ”¯è‚¡ç¥¨ç¬¬ `i` å¤©çš„ä»·æ ¼ã€‚
  >
  > åœ¨æ¯ä¸€å¤©ï¼Œä½ å¯ä»¥å†³å®šæ˜¯å¦è´­ä¹°å’Œ/æˆ–å‡ºå”®è‚¡ç¥¨ã€‚ä½ åœ¨ä»»ä½•æ—¶å€™ **æœ€å¤š** åªèƒ½æŒæœ‰ **ä¸€è‚¡** è‚¡ç¥¨ã€‚ä½ ä¹Ÿå¯ä»¥å…ˆè´­ä¹°ï¼Œç„¶ååœ¨ **åŒä¸€å¤©** å‡ºå”®ã€‚
  >
  > è¿”å› *ä½ èƒ½è·å¾—çš„ **æœ€å¤§** åˆ©æ¶¦* ã€‚

  ![image.png](https://pic.leetcode.cn/1694843862-LBsyvh-image.png)

  

  ```
  class Solution:
      def maxProfit(self, prices: List[int]) -> int:
          n = len(prices)
          dp = [[-inf]*2 for _ in range(n+1)]
          dp[-1][0] = 0
          for i in range(n):
              dp[i][0] = max(dp[i-1][0],dp[i-1][1]+prices[i])
              dp[i][1] = max(dp[i-1][1],dp[i-1][0]-prices[i])
          return dp[n-1][0]
  ```

- [309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/)  [ä»£ç ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/shi-pin-jiao-ni-yi-bu-bu-si-kao-dong-tai-0k0l/)   

  > ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„`prices`ï¼Œå…¶ä¸­ç¬¬ `prices[i]` è¡¨ç¤ºç¬¬ `*i*` å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚
  >
  > è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:
  >
  > - å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚
  >
  > **æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

  ![image-20230916140822346](images/image-20230916140822346.png)

  ```
  class Solution:
      def maxProfit(self, prices: List[int]) -> int:
          n = len(prices)
          dp = [[-inf]*3 for _ in range(n+1)]
          dp[-1][1] = 0
          for i in range(n):
              dp[i][0] = dp[i-1][2]+prices[i]
              dp[i][1] = max(dp[i-1][1],dp[i-1][0])
              dp[i][2] = max(dp[i-1][2],dp[i-1][1]-prices[i])
          return max(dp[n-1][0],dp[n-1][1])
  ```

- [188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/)  [ä»£ç ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/solution/shi-pin-jiao-ni-yi-bu-bu-si-kao-dong-tai-kksg/)  å˜å½¢ï¼šæ°å¥½/è‡³å°‘ 

  > ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `prices` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œå…¶ä¸­ `prices[i]` æ˜¯æŸæ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ `i` å¤©çš„ä»·æ ¼ã€‚
  >
  > è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ `k` ç¬”äº¤æ˜“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æœ€å¤šå¯ä»¥ä¹° `k` æ¬¡ï¼Œå– `k` æ¬¡ã€‚
  >
  > **æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚
  >
  > å›°éš¾

  è¿™é¢˜åˆå§‹åŒ–è¦æƒ³æ¸…æ¥š

  ä»å‰-1ä¸ªä¸­é€‰ä»»æ„kä¸ªçš„ç©ºä»“æƒ…å†µçš„æœ€å¤§å€¼éƒ½æ˜¯0

  ![image-20230916143832767](images/image-20230916143832767.png)

  ```
  class Solution:
      def maxProfit(self, k: int, prices: List[int]) -> int:
          n = len(prices)
          dp = [[[-inf]*2 for __ in range(k+2)] for _ in range(n+1)]
          # dp[i][j][0]ã€dp[i][j][1]
          for i in range(k+2):
              dp[-1][i][0] = 0
          for i in range(n):
              for j in range(0,k+1):
                  dp[i][j][0] = max(dp[i-1][j][0],dp[i-1][j-1][1]+prices[i])
                  dp[i][j][1] = max(dp[i-1][j][1],dp[i-1][j][0]-prices[i])
          # print(dp)
          return dp[n-1][k][0]
  ```

- [121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)

  > ç»™å®šä¸€ä¸ªæ•°ç»„ `prices` ï¼Œå®ƒçš„ç¬¬ `i` ä¸ªå…ƒç´  `prices[i]` è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ `i` å¤©çš„ä»·æ ¼ã€‚
  >
  > ä½ åªèƒ½é€‰æ‹© **æŸä¸€å¤©** ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ **æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­** å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚
  >
  > è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› `0` ã€‚
  >
  > `1 <= prices.length <= 105`

  ```
  class Solution:
      def maxProfit(self, prices: List[int]) -> int:
          mi = prices[0]
          ans = 0
          for x in prices:
              ans = max(ans,x-mi)
              mi = min(mi,x)
          return ans
  ```

- [123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/)

- [714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)

- [1911. æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ](https://leetcode.cn/problems/maximum-alternating-subsequence-sum/)

###  [åŒºé—´ DP](https://www.bilibili.com/video/BV1ho4y1W7QK/) 

- [516. æœ€é•¿å›æ–‡å­åºåˆ—](https://leetcode.cn/problems/longest-palindromic-subsequence/)  [ä»£ç ](https://leetcode.cn/problems/longest-palindromic-subsequence/solution/shi-pin-jiao-ni-yi-bu-bu-si-kao-dong-tai-kgkg/)  åŒ…å«ç©ºé—´ä¼˜åŒ–  

- [1039. å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†](https://leetcode.cn/problems/minimum-score-triangulation-of-polygon/)  [ä»£ç ](https://leetcode.cn/problems/minimum-score-triangulation-of-polygon/solution/shi-pin-jiao-ni-yi-bu-bu-si-kao-dong-tai-aty6/)   

- [1771. ç”±å­åºåˆ—æ„é€ çš„æœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦](https://leetcode.cn/problems/maximize-palindrome-length-from-subsequences/)  [ä»£ç ](https://leetcode.cn/problems/maximize-palindrome-length-from-subsequences/solution/shi-pin-qiao-miao-zhuan-huan-516-bian-xi-jhrt/)  *è¯¾åä½œä¸š  

- [1000. åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬](https://leetcode.cn/problems/minimum-cost-to-merge-stones/)  [ä»£ç ](https://leetcode.cn/problems/minimum-cost-to-merge-stones/solution/tu-jie-qu-jian-dpzhuang-tai-she-ji-yu-yo-ppv0/)  *è¯¾åä½œä¸š

###   [æ ‘å½¢ DP - ç›´å¾„ç³»åˆ—](https://www.bilibili.com/video/BV17o4y187h1/)  

![image-20230923144743387](images/image-20230923144743387.png)

- æ ‘çš„ç›´å¾„ï¼šç­‰ä»·äºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´è·¯å¾„é•¿åº¦çš„æœ€å¤§å€¼ã€‚

  çœ‹åˆ°**æ±‚æ ‘ä¸­æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è·ç¦»ï¼Œå°±æ˜¯æ ‘çš„ç›´å¾„çš„æ ‘å½¢dp**

- [543. äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode.cn/problems/diameter-of-binary-tree/)  [ä»£ç ](https://leetcode.cn/problems/diameter-of-binary-tree/solution/shi-pin-che-di-zhang-wo-zhi-jing-dpcong-taqma/)    

  > ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ‘çš„ **ç›´å¾„** ã€‚
  >
  > äºŒå‰æ ‘çš„ **ç›´å¾„** æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ **é•¿åº¦** ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ `root` ã€‚
  >
  > ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ **é•¿åº¦** ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚

  æ±‚äºŒå‰æ ‘ç›´å¾„

  ```
  class Solution:
      def diameterOfBinaryTree(self, root: Optional[TreeNode]) -> int:
          ans = 0
          def dfs(i):
              if i is None:
                  return 0
              l = dfs(i.left) 
              r = dfs(i.right)
              nonlocal ans
              ans = max(ans,l+r)
              return max(l,r)+1
          dfs(root)
          return ans
  ```

- [1245. æ ‘çš„ç›´å¾„](https://leetcode.cn/problems/tree-diameter/)ï¼ˆä¼šå‘˜é¢˜ï¼‰

  > ç»™ä½ ä¸€æ£µ**æ ‘**çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ‘çš„ **ç›´å¾„** ã€‚
  >
  > **æ ‘**çš„ **ç›´å¾„** æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ **é•¿åº¦** ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ `root` 
  >
  > ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ **é•¿åº¦** ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚
  >
  > 1792

  æ ‘çš„ç›´å¾„

  - å†™æ³•1ï¼šæ±‚æœ€å¤§ã€æ¬¡å¤§å€¼

    ```
            # è¿”å›èŠ‚ç‚¹iå‘ä¸‹çš„ä¸€æ¡åˆæ³•é“¾çš„æœ€å¤§é•¿åº¦ï¼ˆè¾¹çš„é•¿åº¦ï¼‰
            def dfs(i,fa):
                mx1,mx2 = 0,0
                for j in e[i]:
                	if j==fa:
                		continue
                    res = dfs(j,i)+1
                    if res >= mx1:
                    	mx2 = mx1
                    	mx1 = res
                    elif res > mx2:
                    	mx2 = res
                nonlocal ans
                ans = max(ans,mx1+mx2)
                return mx1 
    ```

    

  - å†™æ³•2ï¼š**é€’æ¨æ›´æ–°æœ€å¤§å€¼**

    åªä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œä¿å­˜ä¸Šä¸€è½®çš„æœ€å¤§å€¼ï¼Œå†å’Œå½“å‰è½®æ¬¡çš„å€¼å–å’Œï¼Œæ›´æ–°ans

    ```
    		def dfs(i,fa):
                mx = 0
                nonlocal ans
                for j in e[i]:
                	if j==fa:
                		continue
                    res = dfs(j)+1
                    ans = max(ans,mx + res) # æœ€å¤§å€¼+æ¬¡å¤§å€¼ä¼šè¢«åŒ…å«åœ¨è¿™é‡Œ
                    mx = max(mx,res)
                return mx
    ```

    > è¿™ä¸ªé€’æ¨çš„ä½¿ç”¨ä¾‹å­å‚è€ƒä¸‹æ–¹é¢˜ç›®ï¼š[2538. æœ€å¤§ä»·å€¼å’Œä¸æœ€å°ä»·å€¼å’Œçš„å·®å€¼]

- [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode.cn/problems/binary-tree-maximum-path-sum/)  [ä»£ç ](https://leetcode.cn/problems/binary-tree-maximum-path-sum/solution/shi-pin-che-di-zhang-wo-zhi-jing-dpcong-n9s91/)   

  > äºŒå‰æ ‘ä¸­çš„ **è·¯å¾„** è¢«å®šä¹‰ä¸ºä¸€æ¡èŠ‚ç‚¹åºåˆ—ï¼Œåºåˆ—ä¸­æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨ä¸€æ¡è¾¹ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­ **è‡³å¤šå‡ºç°ä¸€æ¬¡** ã€‚è¯¥è·¯å¾„ **è‡³å°‘åŒ…å«ä¸€ä¸ª** èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚
  >
  > **è·¯å¾„å’Œ** æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚
  >
  > ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œè¿”å›å…¶ **æœ€å¤§è·¯å¾„å’Œ** ã€‚

  ç‚¹æƒå‹æ±‚ç›´å¾„

  è¿™é¢˜å’Œ543. äºŒå‰æ ‘çš„ç›´å¾„æ€è·¯å®Œå…¨ä¸€æ ·ï¼Œä¸åŒç‚¹æ˜¯è¿™é‡Œæ˜¯è€ƒè™‘èŠ‚ç‚¹çš„valï¼Œå¯¹äºè´Ÿæ•°çš„ç‚¹æƒï¼Œå¯ä»¥ç›´æ¥è¿”å›0è¡¨ç¤ºä¸é€‰è´Ÿæ•°çš„ç‚¹

  ```
  class Solution:
      def maxPathSum(self, root: Optional[TreeNode]) -> int:
          ans = -inf
          # dfs(i)è¿”å›ä»iå¼€å§‹å‘ä¸‹çš„è·¯å¾„çš„æœ€å¤§å’Œï¼ˆiå¯ä»¥ä¸é€‰ï¼Œæœ€å°è¿”å›0ï¼‰
          def dfs(i):
              if i is None:
                  return 0
              l,r = dfs(i.left),dfs(i.right)
              nonlocal ans 
              ans = max(ans,l+r+i.val)
              return max(max(l,r)+i.val,0)
          dfs(root)
          return ans
  ```

- [2246. ç›¸é‚»å­—ç¬¦ä¸åŒçš„æœ€é•¿è·¯å¾„](https://leetcode.cn/problems/longest-path-with-different-adjacent-characters/)  [ä»£ç ](https://leetcode.cn/problems/longest-path-with-different-adjacent-characters/solution/by-endlesscheng-92fw/)   

  > ç»™ä½ ä¸€æ£µ **æ ‘**ï¼ˆå³ä¸€ä¸ªè¿é€šã€æ— å‘ã€æ— ç¯å›¾ï¼‰ï¼Œæ ¹èŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ `0` ï¼Œè¿™æ£µæ ‘ç”±ç¼–å·ä» `0` åˆ° `n - 1` çš„ `n` ä¸ªèŠ‚ç‚¹ç»„æˆã€‚ç”¨ä¸‹æ ‡ä» **0** å¼€å§‹ã€é•¿åº¦ä¸º `n` çš„æ•°ç»„ `parent` æ¥è¡¨ç¤ºè¿™æ£µæ ‘ï¼Œå…¶ä¸­ `parent[i]` æ˜¯èŠ‚ç‚¹ `i` çš„çˆ¶èŠ‚ç‚¹ï¼Œç”±äºèŠ‚ç‚¹ `0` æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ `parent[0] == -1` ã€‚
  >
  > å¦ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œé•¿åº¦ä¹Ÿæ˜¯ `n` ï¼Œå…¶ä¸­ `s[i]` è¡¨ç¤ºåˆ†é…ç»™èŠ‚ç‚¹ `i` çš„å­—ç¬¦ã€‚
  >
  > è¯·ä½ æ‰¾å‡ºè·¯å¾„ä¸Šä»»æ„ä¸€å¯¹ç›¸é‚»èŠ‚ç‚¹éƒ½æ²¡æœ‰åˆ†é…åˆ°ç›¸åŒå­—ç¬¦çš„ **æœ€é•¿è·¯å¾„** ï¼Œå¹¶è¿”å›è¯¥è·¯å¾„çš„é•¿åº¦ã€‚
  > 2126

  æ±‚æ»¡è¶³æ¡ä»¶çš„æ ‘çš„ç›´å¾„çš„æœ€å¤§é•¿åº¦

  è¾¹æƒå‹æ±‚æ ‘ç›´å¾„

  ç»†èŠ‚ï¼šè¦å…ˆdfså­èŠ‚ç‚¹jï¼Œå†åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦åˆ™ä¼šé—æ¼æƒ…å†µ

  æ€è·¯ï¼šæ±‚å‡ºæ¯ä¸ªèŠ‚ç‚¹å‘ä¸‹çš„æœ€å¤§è¾¹é•¿åº¦ã€æ¬¡å¤§è¾¹é•¿åº¦ï¼Œä¸¤è€…ä¹‹å’Œæ›´æ–°ansï¼Œdfsè¿”å›æœ€å¤§é•¿åº¦

  æ˜“é”™ç‚¹ï¼šæœ¬é¢˜ç”±äºparent[0]=-1ï¼Œåˆå§‹åŒ–é‚»æ¥è¡¨æ—¶ä¸èƒ½æŠŠ0ä¹Ÿç®—è¿›å»ï¼Œå¦åˆ™ä¼šæ­»å¾ªç¯

  ```
  class Solution:
      def longestPath(self, parent: List[int], s: str) -> int:
          n = len(parent)
          e = [[] for _ in range(n)]
          for i in range(1,n):
              e[parent[i]].append(i)
          ans = 0
          # è¿”å›èŠ‚ç‚¹iå‘ä¸‹çš„ä¸€æ¡åˆæ³•é“¾çš„æœ€å¤§é•¿åº¦ï¼ˆè¾¹çš„é•¿åº¦ï¼‰
          def dfs(i):
              mx1,mx2 = 0,0
              for j in e[i]:
                  res = dfs(j)+1
                  # å½“jä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œå°±æ— æ³•è¿æˆä¸€ä¸ªåˆæ³•çš„é“¾ï¼Œæ»¡è¶³åˆ™æ›´æ–°
                  if s[j]!=s[i]:
                      if res >= mx1:
                          mx2 = mx1
                          mx1 = res
                      elif res > mx2:
                          mx2 = res
              nonlocal ans
              ans = max(ans,mx1+mx2)
              return mx1 
          dfs(0)
          # ç”±äºéœ€è¦è¿”å›èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæ‰€ä»¥éœ€è¦è¾¹æ•°+1
          return ans+1
  ```

  

- [687. æœ€é•¿åŒå€¼è·¯å¾„](https://leetcode.cn/problems/longest-univalue-path/)  [ä»£ç ](https://leetcode.cn/problems/longest-univalue-path/solution/shi-pin-che-di-zhang-wo-zhi-jing-dpcong-524j4/)  *è¯¾åä½œä¸š  

  > ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ `root` ï¼Œè¿”å› *æœ€é•¿çš„è·¯å¾„çš„é•¿åº¦* ï¼Œè¿™ä¸ªè·¯å¾„ä¸­çš„ *æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒå€¼* ã€‚ è¿™æ¡è·¯å¾„å¯ä»¥ç»è¿‡ä¹Ÿå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚
  >
  > **ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦** ç”±å®ƒä»¬ä¹‹é—´çš„è¾¹æ•°è¡¨ç¤ºã€‚

  è¾¹æƒå‹æ±‚äºŒå‰æ ‘ç›´å¾„

  ```
  class Solution:
      def longestUnivaluePath(self, root: Optional[TreeNode]) -> int:
          ans = 0
          def dfs(i):
              if i is None:
                  return -1 # å¶å­èŠ‚ç‚¹æ­£å¥½æ˜¯0
              l,r = dfs(i.left)+1,dfs(i.right)+1
              nonlocal ans
              if i.left and i.left.val!=i.val:
                  l = 0
              if i.right and i.right.val!=i.val:
                  r = 0
              ans = max(ans,l+r)
              return max(l,r)
          dfs(root)
          return ans
  ```

  

- [1617. ç»Ÿè®¡å­æ ‘ä¸­åŸå¸‚ä¹‹é—´æœ€å¤§è·ç¦»](https://leetcode.cn/problems/count-subtrees-with-max-distance-between-cities/)  [ä»£ç ](https://leetcode.cn/problems/count-subtrees-with-max-distance-between-cities/solution/tu-jie-on3-mei-ju-zhi-jing-duan-dian-che-am2n/)  *è¯¾åä½œä¸š  

  > ç»™ä½  `n` ä¸ªåŸå¸‚ï¼Œç¼–å·ä¸ºä» `1` åˆ° `n` ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `n-1` çš„æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ui, vi]` è¡¨ç¤ºåŸå¸‚ `ui` å’Œ `vi` ä¹‹é—´æœ‰ä¸€æ¡åŒå‘è¾¹ã€‚é¢˜ç›®ä¿è¯ä»»æ„åŸå¸‚ä¹‹é—´åªæœ‰å”¯ä¸€çš„ä¸€æ¡è·¯å¾„ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰åŸå¸‚å½¢æˆäº†ä¸€æ£µ **æ ‘** ã€‚
  >
  > ä¸€æ£µ **å­æ ‘** æ˜¯åŸå¸‚çš„ä¸€ä¸ªå­é›†ï¼Œä¸”å­é›†ä¸­ä»»æ„åŸå¸‚ä¹‹é—´å¯ä»¥é€šè¿‡å­é›†ä¸­çš„å…¶ä»–åŸå¸‚å’Œè¾¹åˆ°è¾¾ã€‚ä¸¤ä¸ªå­æ ‘è¢«è®¤ä¸ºä¸ä¸€æ ·çš„æ¡ä»¶æ˜¯è‡³å°‘æœ‰ä¸€ä¸ªåŸå¸‚åœ¨å…¶ä¸­ä¸€æ£µå­æ ‘ä¸­å­˜åœ¨ï¼Œä½†åœ¨å¦ä¸€æ£µå­æ ‘ä¸­ä¸å­˜åœ¨ã€‚
  >
  > å¯¹äº `d` ä» `1` åˆ° `n-1` ï¼Œè¯·ä½ æ‰¾åˆ°åŸå¸‚é—´ **æœ€å¤§è·ç¦»** æ°å¥½ä¸º `d` çš„æ‰€æœ‰å­æ ‘æ•°ç›®ã€‚
  >
  > è¯·ä½ è¿”å›ä¸€ä¸ªå¤§å°ä¸º `n-1` çš„æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ `d` ä¸ªå…ƒç´ ï¼ˆ**ä¸‹æ ‡ä» 1 å¼€å§‹**ï¼‰æ˜¯åŸå¸‚é—´ **æœ€å¤§è·ç¦»** æ°å¥½ç­‰äº `d` çš„å­æ ‘æ•°ç›®ã€‚
  >
  > **è¯·æ³¨æ„**ï¼Œä¸¤ä¸ªåŸå¸‚é—´è·ç¦»å®šä¹‰ä¸ºå®ƒä»¬ä¹‹é—´éœ€è¦ç»è¿‡çš„è¾¹çš„æ•°ç›®ã€‚
  >
  > - `2 <= n <= 15`
  > - `edges.length == n-1`
  >
  > ```
  > è¾“å…¥ï¼šn = 4, edges = [[1,2],[2,3],[2,4]]
  > è¾“å‡ºï¼š[3,4,0]
  > è§£é‡Šï¼š
  > å­æ ‘ {1,2}, {2,3} å’Œ {2,4} æœ€å¤§è·ç¦»éƒ½æ˜¯ 1 ã€‚
  > å­æ ‘ {1,2,3}, {1,2,4}, {2,3,4} å’Œ {1,2,3,4} æœ€å¤§è·ç¦»éƒ½ä¸º 2 ã€‚
  > ä¸å­˜åœ¨åŸå¸‚é—´æœ€å¤§è·ç¦»ä¸º 3 çš„å­æ ‘ã€‚
  > ```
  >
  > 2309

  æŒ‡æ•°å‹æšä¸¾ + æ ‘çš„æœ€å¤§ç›´å¾„ï¼ˆè¾¹æƒå‹ï¼‰

  ç»†èŠ‚ï¼šéœ€è¦ç‰¹åˆ¤å­æ ‘æ˜¯å¦åˆæ³•

  ```
  class Solution:
      def countSubgraphsForEachDiameter(self, n: int, edges: List[List[int]]) -> List[int]:
          e = [[] for _ in range(n)]
          for a,b in edges:
              e[a-1].append(b-1)
              e[b-1].append(a-1)
          vis = [-1]*n
          ans = [0]*(n-1)
          def dfs(i):
              if i==n:
                  # ç¡®å®šäº†ä¸€ç§å­æ ‘çš„æƒ…å†µ
                  # ä¸‹é¢è®¡ç®—è¿™æ£µå­æ ‘çš„ç›´å¾„
                  start = -1
                  for i in range(n):
                      if vis[i]:
                          start = i
                  if start == -1:
                      return
                  res = 0
                  # cntè®°å½•æšä¸¾åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹çš„ä¸ªæ•°
                  cnt = 0
                  # è®¡ç®—å½“å‰å­æ ‘çš„ç›´å¾„
                  def dfs_mx(i,fa):
                      nonlocal cnt
                      cnt += 1
                      mx1,mx2 = 0,0
                      for j in e[i]:
                          if j != fa and vis[j]==1:
                              t = dfs_mx(j,i)+1
                              if t >= mx1:
                                  mx2 = mx1
                                  mx1 = t
                              elif t > mx2:
                                  mx2 = t
                      nonlocal res
                      res = max(res,mx1+mx2)
                      return mx1
                  dfs_mx(start,-1)
                  nonlocal ans
                  # å¦‚æœcnt!=sum(vis)ï¼Œå°±è¡¨ç¤ºè¯¥å­æ ‘ä¸è¿é€š
                  if res and cnt==sum(vis):
                      ans[res-1] += 1
                  return
              vis[i] = 0
              dfs(i+1)
              vis[i] = 1
              dfs(i+1)
          dfs(0)
          return ans
  ```

  

- [2538. æœ€å¤§ä»·å€¼å’Œä¸æœ€å°ä»·å€¼å’Œçš„å·®å€¼](https://leetcode.cn/problems/difference-between-maximum-and-minimum-price-sum/)  [ä»£ç ](https://leetcode.cn/problems/difference-between-maximum-and-minimum-price-sum/solution/by-endlesscheng-5l70/)  *è¯¾åä½œä¸š 

  > ç»™ä½ ä¸€ä¸ª `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘æ— æ ¹å›¾ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1` ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªé•¿åº¦ä¸º `n - 1` çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚
  >
  > æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä»·å€¼ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `price` ï¼Œå…¶ä¸­ `price[i]` æ˜¯ç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„ä»·å€¼ã€‚
  >
  > ä¸€æ¡è·¯å¾„çš„ **ä»·å€¼å’Œ** æ˜¯è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„ä»·å€¼ä¹‹å’Œã€‚
  >
  > ä½ å¯ä»¥é€‰æ‹©æ ‘ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ `root` ã€‚é€‰æ‹© `root` ä¸ºæ ¹çš„ **å¼€é”€** æ˜¯ä»¥ `root` ä¸ºèµ·ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­ï¼Œ**ä»·å€¼å’Œ** æœ€å¤§çš„ä¸€æ¡è·¯å¾„ä¸æœ€å°çš„ä¸€æ¡è·¯å¾„çš„å·®å€¼ã€‚
  >
  > è¯·ä½ è¿”å›æ‰€æœ‰èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„é€‰æ‹©ä¸­ï¼Œ**æœ€å¤§** çš„ **å¼€é”€** ä¸ºå¤šå°‘ã€‚
  >
  > 2398

  ç‚¹æƒå‹æ±‚æ ‘çš„æœ€å¤§è·¯å¾„

  éœ€è¦ä½¿ç”¨é€’æ¨æ›´æ–°æœ€å¤§å€¼çš„æ ‘å½¢dpå†™æ³•

  æœ‰éš¾åº¦ï¼Œéœ€è¦åˆ†ç±»è®¨è®º(ä¸å¥½æƒ³)

  - æ€è·¯ï¼š

    ç”±äºç‚¹æƒéƒ½æ˜¯æ­£æ•°ï¼Œæ‰€ä»¥æœ€å°å€¼è·¯å¾„å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„è·¯å¾„ã€‚å¯¹äºæšä¸¾åˆ°èŠ‚ç‚¹iï¼Œè€ƒè™‘é€‰ä¸é€‰å¶å­èŠ‚ç‚¹ï¼Œdfséœ€è¦è¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªå€¼æ˜¯é€‰æ‹©å¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯ä¸é€‰çš„æœ€å¤§å€¼

    æ‰€ä»¥é—®é¢˜å˜æˆï¼šæ±‚æ ‘çš„æ‰€æœ‰ç›´å¾„ä¸­ï¼Œåˆ é™¤äº†ä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ï¼Ÿ

    æƒ…å†µ1ï¼šé€‰æ‹©å½“å‰è·¯å¾„æœ€å¤§å€¼ï¼ˆåŒ…å«å¶å­èŠ‚ç‚¹ï¼‰ + å‰é¢è½®æ¬¡çš„è·¯å¾„æœ€å¤§å€¼ï¼ˆä¸é€‰å¶å­èŠ‚ç‚¹ï¼‰

    æƒ…å†µ2ï¼šé€‰æ‹©å½“å‰è·¯å¾„æœ€å¤§å€¼ï¼ˆä¸åŒ…å«å¶å­èŠ‚ç‚¹ï¼‰ + å‰é¢è½®æ¬¡çš„è·¯å¾„æœ€å¤§å€¼ï¼ˆé€‰å¶å­èŠ‚ç‚¹ï¼‰

  ```
  class Solution:
      def maxOutput(self, n: int, edges: List[List[int]], price: List[int]) -> int:
          e = [[] for _ in range(n)]
          for a,b in edges:
              e[a].append(b)
              e[b].append(a)
          ans = 0
          # è¿”å›èŠ‚ç‚¹iä¸‹å»åŒ…å«ã€ä¸åŒ…å«å¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼
          def dfs(i,fa):
              x = price[i]
              mx_contains,mx_un = x,0
              for j in e[i]:
                  if j!=fa:
                      mx1,mx2 = dfs(j,i)
                      nonlocal ans
                      # æ³¨æ„è¿™é‡Œä¸éœ€è¦+x
                      ans = max(ans,mx1+mx_un,mx2+mx_contains)
                      mx_contains = max(mx_contains,mx1+x)
                      mx_un = max(mx_un,mx2+x)
              return mx_contains,mx_un
          dfs(0,-1)
          return ans
  ```

  

###  [æ ‘å½¢ DP - æœ€å¤§ç‹¬ç«‹é›†](https://www.bilibili.com/video/BV1vu4y1f7dn/) 

æœ€å¤§ç‹¬ç«‹é›†ï¼šä»å›¾ä¸­é€‰æ‹©ä¸€äº›ç‚¹ï¼Œä½¿å¾—è¿™äº›ç‚¹ä¸ç›¸é‚»ï¼Œä½¿å¾—ç‚¹æƒå’Œæœ€å¤§

å¦‚ä½•ç”±å­é—®é¢˜ç®—å‡ºåŸé—®é¢˜ï¼Œæ˜¯æ ‘å½¢dpæ€è€ƒçš„å‡ºå‘ç‚¹

- [337. æ‰“å®¶åŠ«èˆ III](https://leetcode.cn/problems/house-robber-iii/)  [ä»£ç ](https://leetcode.cn/problems/house-robber-iii/solution/shi-pin-ru-he-si-kao-shu-xing-dppythonja-a7t1/)  

  æ ‘å½¢dpï¼Œæ ‘ä¸Šæ‰“å®¶åŠ«èˆï¼Œè¿”å›2ä¸ªå€¼

- [1377. T ç§’åé’è›™çš„ä½ç½®](https://leetcode.cn/problems/frog-position-after-t-seconds/)  [ä»£ç ](https://leetcode.cn/problems/frog-position-after-t-seconds/solution/dfs-ji-yi-ci-you-qu-de-hack-by-endlessch-jtsr/)  *è¯¾åä½œä¸š   

  é¢„å¤„ç†åˆ°è¾¾æ¯ä¸ªç‚¹çš„æœ€æ—©æ—¶é—´

  åˆ†æƒ…å†µè®¨è®º

  >  æ€è€ƒé¢˜ï¼šå¦‚æœæœ‰å¤šä¸ªç›®æ ‡ä½ç½®å‘¢ï¼Ÿ

- [2646. æœ€å°åŒ–æ—…è¡Œçš„ä»·æ ¼æ€»å’Œ](https://leetcode.cn/problems/minimize-the-total-price-of-the-trips/)  [ä»£ç ](https://leetcode.cn/problems/minimize-the-total-price-of-the-trips/solution/lei-si-da-jia-jie-she-iii-pythonjavacgo-4k3wq/)  *è¯¾åä½œä¸š

  æ ‘ä¸Šæ‰“å®¶åŠ«èˆ + ï¼ˆæ ‘ä¸Šå·®åˆ†/DFS ï¼‰

- [P1352 æ²¡æœ‰ä¸Šå¸çš„èˆä¼š](https://www.luogu.com.cn/problem/P1352)

  ç»å…¸æ ‘å½¢dp

### æ ‘å½¢ DP - ç›‘æ§äºŒå‰æ ‘

[968. ç›‘æ§äºŒå‰æ ‘](https://leetcode.cn/problems/binary-tree-cameras/)

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚
>
> èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†**å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚**
>
> è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚

æ ‘å½¢dp+çŠ¶æ€æœº

![image-20231002160418050](images/image-20231002160418050.png)

![image-20231002160432518](images/image-20231002160432518.png)

![image-20231002160448801](images/image-20231002160448801.png)

![image-20231002160520246](images/image-20231002160520246.png)

![image-20231002160530667](images/image-20231002160530667.png)

![image-20231002160549276](images/image-20231002160549276.png)

![image-20231002160605571](images/image-20231002160605571.png)

åˆå§‹åŒ–çš„æ—¶å€™è¦å°†**ç©ºèŠ‚ç‚¹**ä½œä¸ºè¾¹ç•Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå¦‚æœé€‰æ‹©å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç©ºèŠ‚ç‚¹ä¹Ÿéœ€è¦åˆå§‹åŒ–ï¼Œä¼šå¢åŠ ä»£ç é‡ï¼Œæ‰€ä»¥æ ‘çš„åˆå§‹åŒ–è¾¹ç•Œæ˜¯ç©ºèŠ‚ç‚¹è€Œä¸æ˜¯å¶å­èŠ‚ç‚¹

```
class Solution:
    def minCameraCover(self, root: Optional[TreeNode]) -> int:
        # æ ‘å½¢dp+çŠ¶æ€æœº
        # æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸‰ç§çŠ¶æ€ï¼š
        # 1.chooseè¡¨ç¤ºuè¢«å®‰è£…æ‘„åƒå¤´ï¼›
        # 2.by_faè¡¨ç¤ºuè¢«çˆ¶èŠ‚ç‚¹ç›‘æ§ï¼Œä¸æŒ‰æ‘„åƒå¤´ï¼›
        # 3.by_sonè¡¨ç¤ºuè¢«å­èŠ‚ç‚¹ç›‘æ§ï¼Œä¸æŒ‰æ‘„åƒå¤´
        def dfs(u):
            # åˆå§‹åŒ–ï¼šå½“æ˜¯ç©ºèŠ‚ç‚¹æ—¶ï¼Œæ— æ³•è¢«ç›‘æ§ï¼Œä¹Ÿæ— éœ€è¢«ç›‘æ§
            if u is None:
                return inf,0,0
            l_choose,l_byfa,l_byson = dfs(u.left)
            r_choose,r_byfa,r_byson = dfs(u.right)
            # å½“uè¢«å®‰ä¸Šæ‘„åƒå¤´ï¼Œå­èŠ‚ç‚¹å¯æŒ‰å¯ä¸æŒ‰
            choose = min(l_choose,l_byfa,l_byson) + min(r_choose,r_byfa,r_byson)+1
            # å½“uè¢«çˆ¶èŠ‚ç‚¹ç›‘æ§ï¼Œå­èŠ‚ç‚¹ä¸å­˜åœ¨è¢«çˆ¶èŠ‚ç‚¹ç›‘æ§çš„æƒ…å†µ
            byfa = min(l_choose,l_byson) + min(r_choose,r_byson)
            # å½“uè¢«å­èŠ‚ç‚¹ç›‘æ§ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„çŠ¶æ€æ˜¯chooseï¼Œå¹¶ä¸”å­èŠ‚ç‚¹æ²¡æœ‰è¢«çˆ¶èŠ‚ç‚¹ç›‘æ§çš„çŠ¶æ€
            byson = min(l_choose+r_choose,l_choose+r_byson,l_byson+r_choose)
            return choose,byfa,byson
        choose, _, by_son = dfs(root)
        return min(choose,by_son)
```



å˜å½¢1

![image-20231002162413407](images/image-20231002162413407.png)

æŠŠä»£ç é‡Œçš„+1æ”¹æˆåŠ cost[x]å³å¯

å˜å½¢2

![image-20231002162445383](images/image-20231002162445383.png)

å¦‚æœæœ‰å¤šä¸ªå„¿å­ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—çº¢è‰²èŠ‚ç‚¹ï¼ˆby_sonï¼‰çš„æ—¶å€™ï¼Œè¦ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªè¢«æ”¾ç½®äº†æ‘„åƒå¤´çš„å­èŠ‚ç‚¹ï¼Œå¦‚æœæœ‰nä¸ªå„¿å­ï¼Œé‚£ä¹ˆå°±æœ‰2^n-1ä¸ªæƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰çš„æƒ…å†µï¼Ÿï¼Ÿï¼Ÿå…¶å®ä¸ç”¨ï¼Œå¯ä»¥åŒ–ç®€è¿™ä¸ªå…¬å¼

![image-20231002162657551](images/image-20231002162657551.png)

åˆ‡å…¥ç‚¹ï¼šå¦‚æœæ²¡æœ‰â€œè‡³å°‘é€‰æ‹©ä¸€ä¸ªè“è‰²èŠ‚ç‚¹â€è¿™ä¸ªæ¡ä»¶ï¼Œå¼å­å°±æ˜¯æ±‚æ¯ä¸ªå­èŠ‚ç‚¹çš„æœ€å°å€¼å†æ±‚å’Œï¼Œä¸Šå›¾æ‰€ç¤ºã€‚é‚£ä¹ˆå¦‚ä½•æ”¹æ‰èƒ½è®¡ç®—å‡ºæˆ‘ä»¬è¦çš„â€œè‡³å°‘é€‰æ‹©ä¸€ä¸ªè“è‰²èŠ‚ç‚¹â€çš„æƒ…å†µå‘¢ï¼Œå°†å…¶ä¸­ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹æ”¹æˆè“è‰²èŠ‚ç‚¹ï¼Œæ¯”å¦‚å°†2æ”¹æˆ5ï¼Œæˆ–è€…å°†6æ”¹æˆ7ï¼Œæˆ–è€…å°†1æ”¹æˆ5ï¼Œå†çœ‹çœ‹åˆ°åº•é€‰å“ªä¸ªè“è‰²çš„æƒ…å†µï¼Œå…¶å®å°±æ˜¯é€‰æ‹©ï¼šè“è‰²-çº¢è‰²çš„æœ€å°å€¼ã€‚psï¼šå¦‚æœæœ€å°å€¼æ˜¯è´Ÿæ•°ï¼Œä»£è¡¨è‡³å°‘æœ‰ä¸€ä¸ªæœ€å°å€¼æ˜¯è“è‰²çš„ï¼Œæ‰€ä»¥ä¸è€ƒè™‘ï¼Œå°±å’Œ0å–æœ€å¤§å€¼å³å¯ã€‚çœ‹ä¸‹å›¾ï¼Œç”±äºä¸‰ä¸ªé¢œè‰²çš„çŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’åŒ–ç®€ï¼Œå¯ä»¥å†è¿›è¡Œè½¬åŒ–ã€‚

![image-20231002163410177](images/image-20231002163410177.png)

è¯¾åä½œä¸šï¼š 

ä¿å®‰ç«™å²— https://www.luogu.com.cn/problem/P2458 

ä¿å®‰ç«™å²— Python ä»£ç  https://www.luogu.com.cn/paste/y9iiynzw 

LCP34. äºŒå‰æ ‘æŸ“è‰²ï¼ˆé€‰åšï¼‰ https://leetcode.cn/problems/er-cha-shu-ran-se-UGC/ 

LCP64. äºŒå‰æ ‘ç¯é¥°ï¼ˆé€‰åšï¼‰ https://leetcode.cn/problems/U7WvvU/